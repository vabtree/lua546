<html>
<head>
<!-- This html document was created by Imagix 4D -->
<link href="../htm/symbol.css" rel="stylesheet" type="text/css">
<link href="../htm/symcolors.css" rel="stylesheet" type="text/css">
<link href="../htm/notebook.css" rel="stylesheet" type="text/css">
<base target="symbol">
</head>
<body>

<h2>LUA_TSTRING</h2>

<div class="notebook">
<ul>
<li><a href="../h_aa/57443504.htm" class="macro" target="_self">Info</a></li>
<li id="current"><a href="../h_ri/57443504.htm" class="macro" target="_self">Usage</a></li>
<li><a href="../h_src/57443504.htm" class="macro" target="_self">Source Code</a></li>
</ul>
</div>
<div class="notebook">
<ul>
<li id="current"><a href="../h_ri/57443504.htm" class="macro" target="_self">Called By</a></li>
</ul>
</div>
<div class="nb_clear">
</div>
<h4>Called By</h4>
<pre><a href="../h_aa/57808488.htm" class=function>addk</a>                                             lcode.c
   567 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/57807808.htm" class="localvar">L</a>, <a href="../h_src/57807672.htm" class="localvar">f</a>, <a href="../h_src/57808080.htm" class="localvar">v</a>);
<a href="../h_aa/143295748.htm" class=function>addliteral</a>                                       lstrlib.c
  1177 :    case <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>: {
<a href="../h_aa/58026888.htm" class=function>addprototype</a>                                     lparser.c
   710 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58026480.htm" class="localvar">L</a>, <a href="../h_src/58026208.htm" class="localvar">f</a>, <a href="../h_src/58026616.htm" class="localvar">clp</a>);
<a href="../h_aa/57826616.htm" class=function>atomic</a>                                           lgc.c
  1532 :    <a href="../h_src/57827024.htm" class="macro">markobject</a>(<a href="../h_src/57945316.htm" class="localvar">g</a>, <a href="../h_src/57945452.htm" class="localvar">L</a>);  <a  class="comments">/* mark running thread */</a>
<a href="../h_aa/57729772.htm" class=function>aux_rawset</a>                                       lapi.c
   903 :    <a href="../h_src/57621068.htm" class="macro">luaC_barrierback</a>(<a href="../h_src/57729636.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57729092.htm" class="localvar">t</a>), <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57729636.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1));
<a href="../h_aa/57713112.htm" class=function>aux_upvalue</a>                                      lapi.c
  1365 :    if (<a href="../h_src/57712500.htm" class="localvar">owner</a>) *<a href="../h_src/57712500.htm" class="localvar">owner</a> = <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57712364.htm" class="localvar">f</a>);
  1375 :    if (<a href="../h_src/57712500.htm" class="localvar">owner</a>) *<a href="../h_src/57712500.htm" class="localvar">owner</a> = <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57712228.htm" class="localvar">f</a>-&gt;<a href="../h_src/57508048.htm" class="variable">upvals</a>[<a href="../h_src/57712840.htm" class="localvar">n</a> - 1]);
<a href="../h_aa/57584212.htm" class=function>auxgetstr</a>                                        lapi.c
   647 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57584076.htm" class="localvar">L</a>, <a href="../h_src/57584076.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57583532.htm" class="localvar">str</a>);
<a href="../h_aa/57733988.htm" class=function>auxsetstr</a>                                        lapi.c
   838 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57733852.htm" class="localvar">L</a>, <a href="../h_src/57733852.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57733308.htm" class="localvar">str</a>);  <a  class="comments">/* push 'str' (to make it a TValue) */</a><a href="../h_src/57535384.htm" class="type">TValue</a>) */
<a href="../h_aa/57749668.htm" class=function>collectvalidlines</a>                                ldebug.c
   301 :    <a href="../h_src/57506892.htm" class="macro">sethvalue2s</a>(<a href="../h_src/57749532.htm" class="localvar">L</a>, <a href="../h_src/57749532.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57748716.htm" class="localvar">t</a>);  <a  class="comments">/* push it on stack */</a>
<a href="../h_aa/57800396.htm" class=function>const2exp</a>                                        lcode.c
   709 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:  case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>:
   710 :    <a href="../h_src/57800124.htm" class="localvar">e</a>-&gt;<a href="../h_src/57680744.htm" class="variable">k</a> = <a href="../h_src/57682240.htm" class="variable">VKSTR</a>; <a href="../h_src/57800124.htm" class="localvar">e</a>-&gt;<a href="../h_src/57679588.htm" class="variable">u</a>.<a href="../h_src/57680472.htm" class="variable">strval</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/57800260.htm" class="localvar">v</a>);
<a href="../h_aa/58203768.htm" class=function>copy2buff</a>                                        lvm.c
   627 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/58203088.htm" class="localvar">l</a> = <a href="../h_src/57522260.htm" class="macro">vslen</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58203632.htm" class="localvar">top</a> - <a href="../h_src/58203496.htm" class="localvar">n</a>));  <a  class="comments">/* length of string being copied */</a>
   628 :    <a href="../h_aa/57902680.htm" class="libfunc">memcpy</a>(<a href="../h_src/58203360.htm" class="localvar">buff</a> + <a href="../h_src/58203224.htm" class="localvar">tl</a>, <a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58203632.htm" class="localvar">top</a> - <a href="../h_src/58203496.htm" class="localvar">n</a>)), <a href="../h_src/58203088.htm" class="localvar">l</a> * sizeof(char));
<a href="../h_aa/58127636.htm" class=function>createstrobj</a>                                     lstring.c
   149 :    <a href="../h_src/58126956.htm" class="localvar">ts</a> = <a href="../h_src/57640108.htm" class="macro">gco2ts</a>(<a href="../h_src/58126820.htm" class="localvar">o</a>);
<a href="../h_aa/57844976.htm" class=function>dumpConstants</a>                                    ldump.c
   127 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:
   128 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>:
   129 :    <a href="../h_src/57846200.htm" class="function">dumpString</a>(<a href="../h_src/57844840.htm" class="localvar">D</a>, <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/57844296.htm" class="localvar">o</a>));
<a href="../h_aa/57846200.htm" class=function>dumpString</a>                                       ldump.c
    96 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/57845792.htm" class="localvar">size</a> = <a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/57845928.htm" class="localvar">s</a>);
<a href="../h_aa/58116484.htm" class=function>equalkey</a>                                         ltable.c
   231 :    case <a href="../h_src/57527632.htm" class="macro">ctb</a>(<a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>):
   232 :    return <a href="../h_src/57619028.htm" class="function">luaS_eqlngstr</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58116348.htm" class="localvar">k1</a>), <a href="../h_src/57503424.htm" class="macro">keystrval</a>(<a href="../h_src/58116212.htm" class="localvar">n2</a>));
<a href="../h_aa/58350436.htm" class=function>findfield</a>                                        lauxlib.c
    57 :    if (<a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/58350300.htm" class="localvar">L</a>, -2) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>) {  <a  class="comments">/* ignore non-string keys */</a>
<a href="../h_aa/57966804.htm" class=function>freeobj</a>                                          lgc.c
   799 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: {
   800 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/57965988.htm" class="localvar">ts</a> = <a href="../h_src/57640108.htm" class="macro">gco2ts</a>(<a href="../h_src/57966532.htm" class="localvar">o</a>);
   805 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: {
   806 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/57965852.htm" class="localvar">ts</a> = <a href="../h_src/57640108.htm" class="macro">gco2ts</a>(<a href="../h_src/57966532.htm" class="localvar">o</a>);
<a href="../h_aa/57750824.htm" class=function>funcinfo</a>                                         ldebug.c
   268 :    <a href="../h_src/57750688.htm" class="localvar">ar</a>-&gt;<a href="../h_src/57423444.htm" class="variable">srclen</a> = <a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/57750348.htm" class="localvar">p</a>-&gt;<a href="../h_src/57513964.htm" class="variable">source</a>);
<a href="../h_aa/57818660.htm" class=function>genlink</a>                                          lgc.c
   433 :    <a href="../h_src/57825120.htm" class="macro">linkobjgclist</a>(<a href="../h_src/57818388.htm" class="localvar">o</a>, <a href="../h_src/57818524.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);  <a  class="comments">/* link it back in 'grayagain' */</a>
<a href="../h_aa/57745588.htm" class=function>getobjname</a>                                       ldebug.c
   571 :    if (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(&amp;<a href="../h_src/57739876.htm" class="localvar">p</a>-&gt;<a href="../h_src/57515052.htm" class="variable">k</a>[<a href="../h_src/57738380.htm" class="localvar">b</a>])) {
   572 :    *<a href="../h_src/57739468.htm" class="localvar">name</a> = <a href="../h_src/57522532.htm" class="macro">svalue</a>(&amp;<a href="../h_src/57739876.htm" class="localvar">p</a>-&gt;<a href="../h_src/57515052.htm" class="variable">k</a>[<a href="../h_src/57738380.htm" class="localvar">b</a>]);
<a href="../h_aa/57979628.htm" class=function>init_registry</a>                                    lstate.c
   219 :    <a href="../h_src/57507028.htm" class="macro">sethvalue</a>(<a href="../h_src/57979492.htm" class="localvar">L</a>, &amp;<a href="../h_src/57979356.htm" class="localvar">g</a>-&gt;<a href="../h_src/57646296.htm" class="variable">l_registry</a>, <a href="../h_src/57979220.htm" class="localvar">registry</a>);
   222 :    <a href="../h_src/57528584.htm" class="macro">setthvalue</a>(<a href="../h_src/57979492.htm" class="localvar">L</a>, &amp;<a href="../h_src/57979220.htm" class="localvar">registry</a>-&gt;<a href="../h_src/57504716.htm" class="variable">array</a>[<a href="../h_src/57442552.htm" class="macro">LUA_RIDX_MAINTHREAD</a> - 1], <a href="../h_src/57979492.htm" class="localvar">L</a>);
   224 :    <a href="../h_src/57507028.htm" class="macro">sethvalue</a>(<a href="../h_src/57979492.htm" class="localvar">L</a>, &amp;<a href="../h_src/57979220.htm" class="localvar">registry</a>-&gt;<a href="../h_src/57504716.htm" class="variable">array</a>[<a href="../h_src/57442416.htm" class="macro">LUA_RIDX_GLOBALS</a> - 1], <a href="../h_src/57616512.htm" class="function">luaH_new</a>(<a href="../h_src/57979492.htm" class="localvar">L</a>));
<a href="../h_aa/58125188.htm" class=function>internshrstr</a>                                     lstring.c
   208 :    <a href="../h_src/58124644.htm" class="localvar">ts</a> = <a href="../h_src/58127636.htm" class="function">createstrobj</a>(<a href="../h_src/58125052.htm" class="localvar">L</a>, <a href="../h_src/58124780.htm" class="localvar">l</a>, <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>, <a href="../h_src/58124236.htm" class="localvar">h</a>);
<a href="../h_aa/57824712.htm" class=function>iscleared</a>                                        lgc.c
   187 :    else if (<a href="../h_src/57534908.htm" class="macro">novariant</a>(<a href="../h_src/57824440.htm" class="localvar">o</a>-&gt;<a href="../h_src/57528108.htm" class="variable">tt</a>) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>) {
   188 :    <a href="../h_src/57827024.htm" class="macro">markobject</a>(<a href="../h_src/57824576.htm" class="localvar">g</a>, <a href="../h_src/57824440.htm" class="localvar">o</a>);  <a  class="comments">/* strings are 'values', so are never weak */</a>
<a href="../h_aa/57788700.htm" class=function>isKstr</a>                                           lcode.c
  1222 :    <a href="../h_src/57524776.htm" class="macro">ttisshrstring</a>(&amp;<a href="../h_src/57788564.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57676052.htm" class="variable">f</a>-&gt;<a href="../h_src/57515052.htm" class="variable">k</a>[<a href="../h_src/57788428.htm" class="localvar">e</a>-&gt;<a href="../h_src/57679588.htm" class="variable">u</a>.<a href="../h_src/57680404.htm" class="variable">info</a>]));
<a href="../h_aa/57745452.htm" class=function>kname</a>                                            ldebug.c
   429 :    *<a href="../h_src/57745044.htm" class="localvar">name</a> = (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57744908.htm" class="localvar">kvalue</a>)) ? <a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57744908.htm" class="localvar">kvalue</a>) : &quot;?&quot;;
<a href="../h_aa/58211588.htm" class=function>l_strcmp</a>                                         lvm.c
   377 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/58211044.htm" class="localvar">ll</a> = <a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/58211452.htm" class="localvar">ls</a>);
   379 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/58210772.htm" class="localvar">lr</a> = <a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/58211316.htm" class="localvar">rs</a>);
<a href="../h_aa/58060996.htm" class=function>l_strton</a>                                         lvm.c
    92 :    if (!<a href="../h_src/57613928.htm" class="macro">cvt2num</a>(<a href="../h_src/58060860.htm" class="localvar">obj</a>))  <a  class="comments">/* is object not a string? */</a>
    95 :    return (<a href="../h_src/57501656.htm" class="function">luaO_str2num</a>(<a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/58060860.htm" class="localvar">obj</a>), <a href="../h_src/58060724.htm" class="localvar">result</a>) == <a href="../h_src/57522260.htm" class="macro">vslen</a>(<a href="../h_src/58060860.htm" class="localvar">obj</a>) + 1);
<a href="../h_aa/58205808.htm" class=function>lessequalothers</a>                                  lvm.c
   544 :    if (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58205536.htm" class="localvar">l</a>) &amp;&amp; <a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58205400.htm" class="localvar">r</a>))  <a  class="comments">/* both are strings? */</a>
   545 :    return <a href="../h_src/58211588.htm" class="function">l_strcmp</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58205536.htm" class="localvar">l</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58205400.htm" class="localvar">r</a>)) &lt;= 0;
<a href="../h_aa/58206760.htm" class=function>lessthanothers</a>                                   lvm.c
   522 :    if (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58206488.htm" class="localvar">l</a>) &amp;&amp; <a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58206352.htm" class="localvar">r</a>))  <a  class="comments">/* both are strings? */</a>
   523 :    return <a href="../h_src/58211588.htm" class="function">l_strcmp</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58206488.htm" class="localvar">l</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58206352.htm" class="localvar">r</a>)) &lt; 0;
<a href="../h_aa/57927976.htm" class=function>llex</a>                                             llex.c
   548 :    if (<a href="../h_src/57619436.htm" class="macro">isreserved</a>(<a href="../h_src/57927296.htm" class="localvar">ts</a>))  <a  class="comments">/* reserved word? */</a>
<a href="../h_aa/58068680.htm" class=function>loadConstants</a>                                    lundump.c
   181 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:
   182 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>:
   183 :    <a href="../h_src/57523960.htm" class="macro">setsvalue2n</a>(<a href="../h_src/58068544.htm" class="localvar">S</a>-&gt;<a href="../h_src/58075208.htm" class="variable">L</a>, o, <a href="../h_src/58069904.htm" class="function">loadString</a>(<a href="../h_src/58068544.htm" class="localvar">S</a>, <a href="../h_src/58068408.htm" class="localvar">f</a>));
<a href="../h_aa/58067184.htm" class=function>loadProtos</a>                                       lundump.c
   200 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58067048.htm" class="localvar">S</a>-&gt;<a href="../h_src/58075208.htm" class="variable">L</a>, <a href="../h_src/58066912.htm" class="localvar">f</a>, <a href="../h_src/58066912.htm" class="localvar">f</a>-&gt;<a href="../h_src/57514576.htm" class="variable">p</a>[<a href="../h_src/58066776.htm" class="localvar">i</a>]);
<a href="../h_aa/58071128.htm" class=function>loadStringN</a>                                      lundump.c
   123 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/58070720.htm" class="localvar">L</a>, <a href="../h_src/58070720.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/58070584.htm" class="localvar">ts</a>);  <a  class="comments">/* anchor it ('loadVector' can GC) */</a>
   128 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58070720.htm" class="localvar">L</a>, <a href="../h_src/58070856.htm" class="localvar">p</a>, <a href="../h_src/58070584.htm" class="localvar">ts</a>);
<a href="../h_aa/57430244.htm" class=function>lua_concat</a>                                       lapi.c
  1291 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57716580.htm" class="localvar">L</a>, <a href="../h_src/57716580.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57618552.htm" class="function">luaS_newlstr</a>(<a href="../h_src/57716580.htm" class="localvar">L</a>, &quot;&quot;, 0));  <a  class="comments">/* push empty string */</a>
<a href="../h_aa/57439084.htm" class=function>lua_copy</a>                                         lapi.c
   263 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/57602504.htm" class="localvar">L</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57602504.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a>)), <a href="../h_src/57602096.htm" class="localvar">fr</a>);
<a href="../h_aa/57433916.htm" class=function>lua_createtable</a>                                  lapi.c
   766 :    <a href="../h_src/57506892.htm" class="macro">sethvalue2s</a>(<a href="../h_src/57736708.htm" class="localvar">L</a>, <a href="../h_src/57736708.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57736300.htm" class="localvar">t</a>);
<a href="../h_aa/57430380.htm" class=function>lua_error</a>                                        lapi.c
  1244 :    if (<a href="../h_src/57524776.htm" class="macro">ttisshrstring</a>(<a href="../h_src/57717804.htm" class="localvar">errobj</a>) &amp;&amp; <a href="../h_src/57619300.htm" class="macro">eqshrstr</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/57717804.htm" class="localvar">errobj</a>), <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57717940.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643780.htm" class="variable">memerrmsg</a>))
<a href="../h_aa/57433780.htm" class=function>lua_getmetatable</a>                                 lapi.c
   793 :    <a href="../h_src/57506892.htm" class="macro">sethvalue2s</a>(<a href="../h_src/57735892.htm" class="localvar">L</a>, <a href="../h_src/57735892.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57735484.htm" class="localvar">mt</a>);
<a href="../h_aa/57438812.htm" class=function>lua_isstring</a>                                     lapi.c
   318 :    return (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57598696.htm" class="localvar">o</a>) || <a href="../h_src/57614200.htm" class="macro">cvt2str</a>(<a href="../h_src/57598696.htm" class="localvar">o</a>));
<a href="../h_aa/57432624.htm" class=function>lua_load</a>                                         lapi.c
  1102 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/57722564.htm" class="localvar">L</a>, <a href="../h_src/57721612.htm" class="localvar">f</a>-&gt;<a href="../h_src/57508048.htm" class="variable">upvals</a>[0], <a href="../h_src/57721476.htm" class="localvar">gt</a>);
<a href="../h_aa/57439900.htm" class=function>lua_newstate</a>                                     lstate.c
   372 :    <a href="../h_src/58134028.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645344.htm" class="variable">allgc</a> = <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/58134164.htm" class="localvar">L</a>);  <a  class="comments">/* by now, only object is the main thread */</a>
<a href="../h_aa/57439764.htm" class=function>lua_newthread</a>                                    lstate.c
   296 :    <a href="../h_src/57528448.htm" class="macro">setthvalue2s</a>(<a href="../h_src/58136748.htm" class="localvar">L</a>, <a href="../h_src/58136748.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/58136340.htm" class="localvar">L1</a>);
<a href="../h_aa/57433848.htm" class=function>lua_newuserdatauv</a>                                lapi.c
  1348 :    <a href="../h_src/57521036.htm" class="macro">setuvalue</a>(<a href="../h_src/57713928.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57713928.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>), <a href="../h_src/57713520.htm" class="localvar">u</a>);
<a href="../h_aa/57434664.htm" class=function>lua_pushcclosure</a>                                 lapi.c
   597 :    <a href="../h_src/57511312.htm" class="macro">setclCvalue</a>(<a href="../h_src/57586524.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57586524.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>), <a href="../h_src/57585980.htm" class="localvar">cl</a>);
<a href="../h_aa/57435072.htm" class=function>lua_pushlstring</a>                                  lapi.c
   530 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57589380.htm" class="localvar">L</a>, <a href="../h_src/57589380.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57588972.htm" class="localvar">ts</a>);
<a href="../h_aa/57435004.htm" class=function>lua_pushstring</a>                                   lapi.c
   545 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57588564.htm" class="localvar">L</a>, <a href="../h_src/57588564.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57588292.htm" class="localvar">ts</a>);
<a href="../h_aa/57434460.htm" class=function>lua_pushthread</a>                                   lapi.c
   626 :    <a href="../h_src/57528584.htm" class="macro">setthvalue</a>(<a href="../h_src/57584620.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57584620.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>), <a href="../h_src/57584620.htm" class="localvar">L</a>);
<a href="../h_aa/57592916.htm" class=function>lua_rawlen</a>                                       lapi.c
   429 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: return <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/57592576.htm" class="localvar">o</a>)-&gt;<a href="../h_src/57523416.htm" class="variable">shrlen</a>;
   430 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: return <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/57592576.htm" class="localvar">o</a>)-&gt;<a href="../h_src/57522872.htm" class="variable">u</a>.<a href="../h_src/57523212.htm" class="variable">lnglen</a>;
<a href="../h_aa/57433304.htm" class=function>lua_rawseti</a>                                      lapi.c
   927 :    <a href="../h_src/57621068.htm" class="macro">luaC_barrierback</a>(<a href="../h_src/57728004.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57727596.htm" class="localvar">t</a>), <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57728004.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1));
<a href="../h_aa/57433168.htm" class=function>lua_setmetatable</a>                                 lapi.c
   949 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57727460.htm" class="localvar">L</a>, <a href="../h_src/57527496.htm" class="macro">gcvalue</a>(<a href="../h_src/57727188.htm" class="localvar">obj</a>), <a href="../h_src/57727052.htm" class="localvar">mt</a>);
   957 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57727460.htm" class="localvar">L</a>, <a href="../h_src/57521444.htm" class="macro">uvalue</a>(<a href="../h_src/57727188.htm" class="localvar">obj</a>), <a href="../h_src/57727052.htm" class="localvar">mt</a>);
<a href="../h_aa/57424328.htm" class=function>lua_setupvalue</a>                                   lapi.c
  1410 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/57710868.htm" class="localvar">L</a>, <a href="../h_src/57710188.htm" class="localvar">owner</a>, <a href="../h_src/57710324.htm" class="localvar">val</a>);
<a href="../h_aa/57438200.htm" class=function>lua_tolstring</a>                                    lapi.c
   409 :    if (!<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57593052.htm" class="localvar">o</a>)) {
   420 :    *<a href="../h_src/57593188.htm" class="localvar">len</a> = <a href="../h_src/57522260.htm" class="macro">vslen</a>(<a href="../h_src/57593052.htm" class="localvar">o</a>);
   422 :    return <a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57593052.htm" class="localvar">o</a>);
<a href="../h_aa/57424192.htm" class=function>lua_upvaluejoin</a>                                  lapi.c
  1460 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57707808.htm" class="localvar">L</a>, <a href="../h_src/57707128.htm" class="localvar">f1</a>, *<a href="../h_src/57706992.htm" class="localvar">up1</a>);
<a href="../h_aa/58291820.htm" class=function>luaB_auxwrap</a>                                     lcorolib.c
    84 :    <a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/58291684.htm" class="localvar">L</a>, -1) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>) {  <a  class="comments">/* ... error object is a string? */</a>
<a href="../h_aa/58308412.htm" class=function>luaB_error</a>                                       lbaselib.c
   117 :    if (<a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/58308276.htm" class="localvar">L</a>, 1) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a> &amp;&amp; <a href="../h_src/58308140.htm" class="localvar">level</a> &gt; 0) {
<a href="../h_aa/58307052.htm" class=function>luaB_rawlen</a>                                      lbaselib.c
   159 :    <a href="../h_src/57417120.htm" class="macro">luaL_argexpected</a>(<a href="../h_src/58306916.htm" class="localvar">L</a>, <a href="../h_src/58306780.htm" class="localvar">t</a> == <a href="../h_src/57443368.htm" class="macro">LUA_TTABLE</a> || t == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>, 1,
<a href="../h_aa/58296444.htm" class=function>luaB_select</a>                                      lbaselib.c
   440 :    if (<a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/58296308.htm" class="localvar">L</a>, 1) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a> &amp;&amp; *<a href="../h_src/57427388.htm" class="macro">lua_tostring</a>(<a href="../h_src/58296308.htm" class="localvar">L</a>, 1) == '#') {
<a href="../h_aa/58309500.htm" class=function>luaB_tonumber</a>                                    lbaselib.c
   101 :    <a href="../h_src/57419772.htm" class="function">luaL_checktype</a>(<a href="../h_src/58309364.htm" class="localvar">L</a>, 1, <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>);  <a  class="comments">/* no numbers as strings */</a>
<a href="../h_aa/57620388.htm" class=function>luaC_barrierback_</a>                                lgc.c
   237 :    <a href="../h_src/57825120.htm" class="macro">linkobjgclist</a>(<a href="../h_src/57823624.htm" class="localvar">o</a>, <a href="../h_src/57823488.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);
<a href="../h_aa/57620864.htm" class=function>luaC_freeallobjects</a>                              lgc.c
  1516 :    <a href="../h_src/57946404.htm" class="function">deletelist</a>(<a href="../h_src/57945724.htm" class="localvar">L</a>, <a href="../h_src/57945588.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645344.htm" class="variable">allgc</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57945588.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643848.htm" class="variable">mainthread</a>));
<a href="../h_aa/57633648.htm" class=function>luaD_seterrorobj</a>                                 ldo.c
    94 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643780.htm" class="variable">memerrmsg</a>); <a  class="comments">/* reuse preregistered msg. */</a>
    98 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57619572.htm" class="macro">luaS_newliteral</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, &quot;error in error handling&quot;));
<a href="../h_aa/57638068.htm" class=function>luaE_warnerror</a>                                   lstate.c
   435 :    const char *<a href="../h_src/58132464.htm" class="localvar">msg</a> = (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58132600.htm" class="localvar">errobj</a>))
   436 :    ? <a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/58132600.htm" class="localvar">errobj</a>)
<a href="../h_aa/57630452.htm" class=function>luaF_closeupval</a>                                  lfunc.c
   204 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/57832804.htm" class="localvar">L</a>, <a href="../h_src/57832532.htm" class="localvar">uv</a>, <a href="../h_src/57832260.htm" class="localvar">slot</a>);
<a href="../h_aa/57630656.htm" class=function>luaF_initupvals</a>                                  lfunc.c
    56 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57839060.htm" class="localvar">L</a>, <a href="../h_src/57838924.htm" class="localvar">cl</a>, <a href="../h_src/57838516.htm" class="localvar">uv</a>);
<a href="../h_aa/57635212.htm" class=function>luaG_addinfo</a>                                     ldebug.c
   801 :    <a href="../h_src/57501316.htm" class="function">luaO_chunkid</a>(<a href="../h_src/57888700.htm" class="localvar">buff</a>, <a href="../h_src/57522668.htm" class="macro">getstr</a>(<a href="../h_src/57888972.htm" class="localvar">src</a>), <a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/57888972.htm" class="localvar">src</a>));
<a href="../h_aa/57635552.htm" class=function>luaG_concaterror</a>                                 ldebug.c
   762 :    if (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57891284.htm" class="localvar">p1</a>) || <a href="../h_src/57614200.htm" class="macro">cvt2str</a>(<a href="../h_src/57891284.htm" class="localvar">p1</a>)) <a href="../h_src/57891284.htm" class="localvar">p1</a> = <a href="../h_src/57891148.htm" class="localvar">p2</a>;
<a href="../h_aa/57616784.htm" class=function>luaH_get</a>                                         ltable.c
   790 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: return <a href="../h_src/57616920.htm" class="function">luaH_getshortstr</a>(<a href="../h_src/58095812.htm" class="localvar">t</a>, <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58095676.htm" class="localvar">key</a>));
<a href="../h_aa/57616920.htm" class=function>luaH_getshortstr</a>                                 ltable.c
   760 :    <a href="../h_src/57548848.htm" class="macro">lua_assert</a>(key-&gt;tt == <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>);
   762 :    if (<a href="../h_src/57503560.htm" class="macro">keyisshrstr</a>(<a href="../h_src/58096764.htm" class="localvar">n</a>) &amp;&amp; <a href="../h_src/57619300.htm" class="macro">eqshrstr</a>(<a href="../h_src/57503424.htm" class="macro">keystrval</a>(<a href="../h_src/58096764.htm" class="localvar">n</a>), <a href="../h_src/58096900.htm" class="localvar">key</a>))
<a href="../h_aa/57616852.htm" class=function>luaH_getstr</a>                                      ltable.c
   775 :    if (<a href="../h_src/58096356.htm" class="localvar">key</a>-&gt;<a href="../h_src/57523620.htm" class="variable">tt</a> == <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>)
   779 :    <a href="../h_src/57524232.htm" class="macro">setsvalue</a>(<a href="../h_src/57547760.htm" class="macro">cast</a>(<a href="../h_src/57444252.htm" class="type">lua_State</a> *, NULL), &amp;<a href="../h_src/58096220.htm" class="localvar">ko</a>, <a href="../h_src/58096356.htm" class="localvar">key</a>);
<a href="../h_aa/57616716.htm" class=function>luaH_newkey</a>                                      ltable.c
   716 :    <a href="../h_src/57621068.htm" class="macro">luaC_barrierback</a>(<a href="../h_src/58099620.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/58099484.htm" class="localvar">t</a>), <a href="../h_src/58099348.htm" class="localvar">key</a>);
<a href="../h_aa/57670884.htm" class=function>luaK_exp2const</a>                                   lcode.c
    98 :    <a href="../h_src/57524232.htm" class="macro">setsvalue</a>(<a href="../h_src/57666940.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57675780.htm" class="variable">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, <a href="../h_src/57666668.htm" class="localvar">v</a>, <a href="../h_src/57666804.htm" class="localvar">e</a>-&gt;<a href="../h_src/57679588.htm" class="variable">u</a>.<a href="../h_src/57680472.htm" class="variable">strval</a>);
<a href="../h_aa/57420248.htm" class=function>luaL_checklstring</a>                                lauxlib.c
   404 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(!<a href="../h_src/58338740.htm" class="localvar">s</a>)) <a href="../h_src/58345472.htm" class="function">tag_error</a>(<a href="../h_src/58339148.htm" class="localvar">L</a>, <a href="../h_src/58339012.htm" class="localvar">arg</a>, <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>);
<a href="../h_aa/57420452.htm" class=function>luaL_tolstring</a>                                   lauxlib.c
   904 :    case <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>:
   915 :    const char *<a href="../h_src/58319904.htm" class="localvar">kind</a> = (<a href="../h_src/58320040.htm" class="localvar">tt</a> == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>) ? <a href="../h_src/57427388.htm" class="macro">lua_tostring</a>(<a href="../h_src/58320448.htm" class="localvar">L</a>, -1) :
<a href="../h_aa/57420316.htm" class=function>luaL_typeerror</a>                                   lauxlib.c
   196 :    if (<a href="../h_src/57420588.htm" class="function">luaL_getmetafield</a>(<a href="../h_src/58346152.htm" class="localvar">L</a>, <a href="../h_src/58346016.htm" class="localvar">arg</a>, &quot;__name&quot;) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>)
<a href="../h_aa/57501452.htm" class=function>luaO_pushvfstring</a>                                lobject.c
   545 :    return <a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57901932.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1));
<a href="../h_aa/57501520.htm" class=function>luaO_tostring</a>                                    lobject.c
   377 :    <a href="../h_src/57524232.htm" class="macro">setsvalue</a>(<a href="../h_src/57906624.htm" class="localvar">L</a>, <a href="../h_src/57906488.htm" class="localvar">obj</a>, <a href="../h_src/57618552.htm" class="function">luaS_newlstr</a>(<a href="../h_src/57906624.htm" class="localvar">L</a>, <a href="../h_src/57906352.htm" class="localvar">buff</a>, <a href="../h_src/57906216.htm" class="localvar">len</a>));
<a href="../h_aa/57618416.htm" class=function>luaS_createlngstrobj</a>                             lstring.c
   158 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58126276.htm" class="localvar">ts</a> = <a href="../h_src/58127636.htm" class="function">createstrobj</a>(<a href="../h_src/58126548.htm" class="localvar">L</a>, <a href="../h_src/58126412.htm" class="localvar">l</a>, <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>, <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/58126548.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57646160.htm" class="variable">seed</a>);
<a href="../h_aa/57619028.htm" class=function>luaS_eqlngstr</a>                                    lstring.c
    36 :    <a href="../h_src/57548848.htm" class="macro">lua_assert</a>(a-&gt;tt == <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a> &amp;&amp; b-&gt;tt == <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>);
<a href="../h_aa/57619096.htm" class=function>luaS_hashlongstr</a>                                 lstring.c
    52 :    <a href="../h_src/57548848.htm" class="macro">lua_assert</a>(ts-&gt;tt == <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>);
<a href="../h_aa/57618824.htm" class=function>luaS_init</a>                                        lstring.c
   132 :    <a href="../h_src/57620932.htm" class="function">luaC_fix</a>(<a href="../h_src/58128316.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/58128180.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643780.htm" class="variable">memerrmsg</a>));  <a  class="comments">/* it should never be collected */</a>
<a href="../h_aa/57497984.htm" class=function>luaT_init</a>                                        ltm.c
    51 :    <a href="../h_src/57620932.htm" class="function">luaC_fix</a>(<a href="../h_src/58090304.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/58090304.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643644.htm" class="variable">tmname</a>[<a href="../h_src/58090032.htm" class="localvar">i</a>]));  <a  class="comments">/* never collect these names */</a>
<a href="../h_aa/57498188.htm" class=function>luaT_objtypename</a>                                 ltm.c
    96 :    if (<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/58088400.htm" class="localvar">name</a>))  <a  class="comments">/* is '__name' a string? */</a>
    97 :    return <a href="../h_src/57522668.htm" class="macro">getstr</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58088400.htm" class="localvar">name</a>));  <a  class="comments">/* use it as type name */</a>
<a href="../h_aa/57614812.htm" class=function>luaU_undump</a>                                      lundump.c
   326 :    <a href="../h_src/57511584.htm" class="macro">setclLvalue2s</a>(<a href="../h_src/58062968.htm" class="localvar">L</a>, <a href="../h_src/58062968.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/58062424.htm" class="localvar">cl</a>);
   329 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58062968.htm" class="localvar">L</a>, <a href="../h_src/58062424.htm" class="localvar">cl</a>, <a href="../h_src/58062424.htm" class="localvar">cl</a>-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);
<a href="../h_aa/57610868.htm" class=function>luaV_concat</a>                                      lvm.c
   644 :    if (!(<a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 2)) || <a href="../h_src/57614200.htm" class="macro">cvt2str</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 2))) ||
   645 :    !<a href="../h_src/58204040.htm" class="macro">tostring</a>(<a href="../h_src/58202952.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 1)))
   647 :    else if (<a href="../h_src/58203904.htm" class="macro">isemptystr</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 1)))  <a  class="comments">/* second operand is empty? */</a>
   648 :    <a href="../h_src/57547624.htm" class="macro">cast_void</a>(<a href="../h_src/58204040.htm" class="macro">tostring</a>(<a href="../h_src/58202952.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 2)));  <a  class="comments">/* result is first operand */</a>
   649 :    else if (<a href="../h_src/58203904.htm" class="macro">isemptystr</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 2))) {  <a  class="comments">/* first operand is empty string? */</a>
   654 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/58202136.htm" class="localvar">tl</a> = <a href="../h_src/57522260.htm" class="macro">vslen</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - 1));
   657 :    for (<a href="../h_src/58202544.htm" class="localvar">n</a> = 1; <a href="../h_src/58202544.htm" class="localvar">n</a> &lt; <a href="../h_src/58202816.htm" class="localvar">total</a> &amp;&amp; <a href="../h_src/58204040.htm" class="macro">tostring</a>(<a href="../h_src/58202952.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - <a href="../h_src/58202544.htm" class="localvar">n</a> - 1)); <a href="../h_src/58202544.htm" class="localvar">n</a>++) {
   658 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/58201864.htm" class="localvar">l</a> = <a href="../h_src/57522260.htm" class="macro">vslen</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58202680.htm" class="localvar">top</a> - <a href="../h_src/58202544.htm" class="localvar">n</a> - 1));
   674 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/58202952.htm" class="localvar">L</a>, <a href="../h_src/58202680.htm" class="localvar">top</a> - <a href="../h_src/58202544.htm" class="localvar">n</a>, <a href="../h_src/58202000.htm" class="localvar">ts</a>);  <a  class="comments">/* create result */</a>
<a href="../h_aa/57611752.htm" class=function>luaV_equalobj</a>                                    lvm.c
   587 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: return <a href="../h_src/57619300.htm" class="macro">eqshrstr</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58204720.htm" class="localvar">t1</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58204584.htm" class="localvar">t2</a>));
   588 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: return <a href="../h_src/57619028.htm" class="function">luaS_eqlngstr</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58204720.htm" class="localvar">t1</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58204584.htm" class="localvar">t2</a>));
<a href="../h_aa/57610936.htm" class=function>luaV_execute</a>                                     lvm.c
  1248 :    <a href="../h_src/57621340.htm" class="macro">luaC_barrier</a>(<a href="../h_src/58188196.htm" class="localvar">L</a>, <a href="../h_src/58182756.htm" class="localvar">uv</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58182892.htm" class="localvar">ra</a>));
  1256 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58181804.htm" class="localvar">key</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58181940.htm" class="localvar">rc</a>);  <a  class="comments">/* key must be a string */</a>
  1299 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58178812.htm" class="localvar">key</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58178948.htm" class="localvar">rc</a>);  <a  class="comments">/* key must be a string */</a>
  1312 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58177860.htm" class="localvar">key</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58178132.htm" class="localvar">rb</a>);  <a  class="comments">/* key must be a string */</a>
  1355 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58174868.htm" class="localvar">key</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58175140.htm" class="localvar">rb</a>);  <a  class="comments">/* key must be a string */</a>
  1376 :    <a href="../h_src/57506892.htm" class="macro">sethvalue2s</a>(<a href="../h_src/58188196.htm" class="localvar">L</a>, <a href="../h_src/58174460.htm" class="localvar">ra</a>, <a href="../h_src/58174052.htm" class="localvar">t</a>);
  1387 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58173100.htm" class="localvar">key</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58173236.htm" class="localvar">rc</a>);  <a  class="comments">/* key must be a string */</a>
  1867 :    <a href="../h_src/57621068.htm" class="macro">luaC_barrierback</a>(<a href="../h_src/58188196.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/58354380.htm" class="localvar">h</a>), <a href="../h_src/58354244.htm" class="localvar">val</a>);
<a href="../h_aa/57611072.htm" class=function>luaV_finishset</a>                                   lvm.c
   342 :    <a href="../h_src/57621068.htm" class="macro">luaC_barrierback</a>(<a href="../h_src/58212948.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/58211996.htm" class="localvar">h</a>), <a href="../h_src/58212540.htm" class="localvar">val</a>);
<a href="../h_aa/57610528.htm" class=function>luaV_objlen</a>                                      lvm.c
   695 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: {
   696 :    <a href="../h_src/57525456.htm" class="macro">setivalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58201184.htm" class="localvar">ra</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58201048.htm" class="localvar">rb</a>)-&gt;<a href="../h_src/57523416.htm" class="variable">shrlen</a>);
   699 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: {
   700 :    <a href="../h_src/57525456.htm" class="macro">setivalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/58201184.htm" class="localvar">ra</a>), <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58201048.htm" class="localvar">rb</a>)-&gt;<a href="../h_src/57522872.htm" class="variable">u</a>.<a href="../h_src/57523212.htm" class="variable">lnglen</a>);
<a href="../h_aa/57700056.htm" class=function>luaX_init</a>                                        llex.c
    73 :    <a href="../h_src/57620932.htm" class="function">luaC_fix</a>(<a href="../h_src/57939060.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57938788.htm" class="localvar">e</a>));  <a  class="comments">/* never collect this name */</a>
    76 :    <a href="../h_src/57620932.htm" class="function">luaC_fix</a>(<a href="../h_src/57939060.htm" class="localvar">L</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57938652.htm" class="localvar">ts</a>));  <a  class="comments">/* reserved words are never collected */</a>
<a href="../h_aa/57699852.htm" class=function>luaX_newstring</a>                                   llex.c
   139 :    <a href="../h_src/57936476.htm" class="localvar">ts</a> = <a href="../h_src/57503424.htm" class="macro">keystrval</a>(<a href="../h_src/57617192.htm" class="macro">nodefromval</a>(<a href="../h_src/57936340.htm" class="localvar">o</a>));  <a  class="comments">/* get saved copy */</a>
   142 :    <a href="../h_src/57524232.htm" class="macro">setsvalue</a>(<a href="../h_src/57936612.htm" class="localvar">L</a>, <a href="../h_src/57936204.htm" class="localvar">stv</a>, <a href="../h_src/57936476.htm" class="localvar">ts</a>);  <a  class="comments">/* temporarily anchor the string */</a>
<a href="../h_aa/57674420.htm" class=function>luaY_parser</a>                                      lparser.c
  1947 :    <a href="../h_src/57511584.htm" class="macro">setclLvalue2s</a>(<a href="../h_src/57987108.htm" class="localvar">L</a>, <a href="../h_src/57987108.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57986020.htm" class="localvar">cl</a>);  <a  class="comments">/* anchor it (to avoid being collected) */</a>
  1950 :    <a href="../h_src/57506892.htm" class="macro">sethvalue2s</a>(<a href="../h_src/57987108.htm" class="localvar">L</a>, <a href="../h_src/57987108.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57986292.htm" class="localvar">lexstate</a>.<a href="../h_src/57700668.htm" class="variable">h</a>);  <a  class="comments">/* anchor it */</a>
  1953 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57987108.htm" class="localvar">L</a>, <a href="../h_src/57986020.htm" class="localvar">cl</a>, <a href="../h_src/57986020.htm" class="localvar">cl</a>-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);
  1955 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57987108.htm" class="localvar">L</a>, <a href="../h_src/57986156.htm" class="localvar">funcstate</a>.<a href="../h_src/57676052.htm" class="variable">f</a>, <a href="../h_src/57986156.htm" class="localvar">funcstate</a>.<a href="../h_src/57676052.htm" class="variable">f</a>-&gt;<a href="../h_src/57513964.htm" class="variable">source</a>);
<a href="../h_aa/57987788.htm" class=function>mainfunc</a>                                         lparser.c
  1934 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/57987652.htm" class="localvar">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, <a href="../h_src/57987516.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57676052.htm" class="variable">f</a>, <a href="../h_src/57987244.htm" class="localvar">env</a>-&gt;<a href="../h_src/57517364.htm" class="variable">name</a>);
<a href="../h_aa/58118660.htm" class=function>mainpositionTV</a>                                   ltable.c
   161 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>: {
   162 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58117980.htm" class="localvar">ts</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58118388.htm" class="localvar">key</a>);
   165 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: {
   166 :    <a href="../h_src/57522736.htm" class="type">TString</a> *<a href="../h_src/58117844.htm" class="localvar">ts</a> = <a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/58118388.htm" class="localvar">key</a>);
<a href="../h_aa/57820632.htm" class=function>markbeingfnz</a>                                     lgc.c
   350 :    <a href="../h_src/57827024.htm" class="macro">markobject</a>(<a href="../h_src/57820496.htm" class="localvar">g</a>, <a href="../h_src/57820360.htm" class="localvar">o</a>);
<a href="../h_aa/57821040.htm" class=function>markmt</a>                                           lgc.c
   338 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57820904.htm" class="localvar">g</a>, <a href="../h_src/57820904.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643440.htm" class="variable">mt</a>[<a href="../h_src/57820768.htm" class="localvar">i</a>]);
<a href="../h_aa/57570336.htm" class=function>msghandler</a>                                       lua.c
   138 :    <a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/57570200.htm" class="localvar">L</a>, -1) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a>)  <a  class="comments">/* that produces a string? */</a>
<a href="../h_aa/58041372.htm" class=function>newupvalue</a>                                       lparser.c
   380 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58041236.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57675780.htm" class="variable">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, <a href="../h_src/58041236.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57676052.htm" class="variable">f</a>, <a href="../h_src/58041100.htm" class="localvar">name</a>);
<a href="../h_aa/57802844.htm" class=function>nilK</a>                                             lcode.c
   649 :    <a href="../h_src/57507028.htm" class="macro">sethvalue</a>(<a href="../h_src/57802708.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57675780.htm" class="variable">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, &amp;<a href="../h_src/57802572.htm" class="localvar">k</a>, <a href="../h_src/57802708.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57675780.htm" class="variable">ls</a>-&gt;<a href="../h_src/57700668.htm" class="variable">h</a>);
<a href="../h_aa/58025392.htm" class=function>open_func</a>                                        lparser.c
   750 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58025256.htm" class="localvar">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, <a href="../h_src/58024848.htm" class="localvar">f</a>, <a href="../h_src/58024848.htm" class="localvar">f</a>-&gt;<a href="../h_src/57513964.htm" class="variable">source</a>);
<a href="../h_aa/143398536.htm" class=function>PrintConstant</a>                                    luac.c
   319 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:
   320 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>:
   321 :    <a href="../h_src/143399964.htm" class="function">PrintString</a>(<a href="../h_src/57524368.htm" class="macro">tsvalue</a>(<a href="../h_src/143398128.htm" class="localvar">o</a>));
<a href="../h_aa/143399964.htm" class=function>PrintString</a>                                      luac.c
   223 :    <a href="../h_aa/57441192.htm" class="type">size_t</a> <a href="../h_src/143399556.htm" class="localvar">i</a>,<a href="../h_src/143399420.htm" class="localvar">n</a>=<a href="../h_src/57522396.htm" class="macro">tsslen</a>(<a href="../h_src/143399828.htm" class="localvar">ts</a>);
<a href="../h_aa/143399080.htm" class=function>PrintType</a>                                        luac.c
   283 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:
   284 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>:
<a href="../h_aa/58198124.htm" class=function>pushclosure</a>                                      lvm.c
   795 :    <a href="../h_src/57511584.htm" class="macro">setclLvalue2s</a>(<a href="../h_src/58197988.htm" class="localvar">L</a>, <a href="../h_src/58197444.htm" class="localvar">ra</a>, <a href="../h_src/58196900.htm" class="localvar">ncl</a>);  <a  class="comments">/* anchor new closure in stack */</a>
   801 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58197988.htm" class="localvar">L</a>, <a href="../h_src/58196900.htm" class="localvar">ncl</a>, <a href="../h_src/58196900.htm" class="localvar">ncl</a>-&gt;<a href="../h_src/57508048.htm" class="variable">upvals</a>[<a href="../h_src/58197036.htm" class="localvar">i</a>]);
<a href="../h_aa/57905196.htm" class=function>pushstr</a>                                          lobject.c
   416 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57904584.htm" class="localvar">L</a>, <a href="../h_src/57904584.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57618552.htm" class="function">luaS_newlstr</a>(<a href="../h_src/57904584.htm" class="localvar">L</a>, <a href="../h_src/57904856.htm" class="localvar">str</a>, <a href="../h_src/57904720.htm" class="localvar">lstr</a>));
<a href="../h_aa/57826752.htm" class=function>reallymarkobject</a>                                 lgc.c
   299 :    case <a href="../h_src/57525184.htm" class="macro">LUA_VSHRSTR</a>:
   300 :    case <a href="../h_src/57525048.htm" class="macro">LUA_VLNGSTR</a>: {
   316 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57821584.htm" class="localvar">g</a>, <a href="../h_src/57821176.htm" class="localvar">u</a>-&gt;<a href="../h_src/57519540.htm" class="variable">metatable</a>);  <a  class="comments">/* mark its metatable */</a>
   324 :    <a href="../h_src/57825120.htm" class="macro">linkobjgclist</a>(<a href="../h_src/57821448.htm" class="localvar">o</a>, <a href="../h_src/57821584.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645072.htm" class="variable">gray</a>);  <a  class="comments">/* to be visited later */</a>
<a href="../h_aa/58049532.htm" class=function>registerlocalvar</a>                                 lparser.c
   184 :    <a href="../h_src/57621476.htm" class="macro">luaC_objbarrier</a>(<a href="../h_src/58049396.htm" class="localvar">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, <a href="../h_src/58048988.htm" class="localvar">f</a>, <a href="../h_src/58049124.htm" class="localvar">varname</a>);
<a href="../h_aa/57818932.htm" class=function>restartcollection</a>                                lgc.c
   405 :    <a href="../h_src/57827024.htm" class="macro">markobject</a>(<a href="../h_src/57818796.htm" class="localvar">g</a>, <a href="../h_src/57818796.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643848.htm" class="variable">mainthread</a>);
<a href="../h_aa/57860140.htm" class=function>resume_error</a>                                     ldo.c
   771 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57860004.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57618484.htm" class="function">luaS_new</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57859868.htm" class="localvar">msg</a>));  <a  class="comments">/* push error message */</a>
<a href="../h_aa/143304044.htm" class=function>str_gsub</a>                                         lstrlib.c
   954 :    <a href="../h_src/57417120.htm" class="macro">luaL_argexpected</a>(<a href="../h_src/143303908.htm" class="localvar">L</a>, <a href="../h_src/143303092.htm" class="localvar">tr</a> == <a href="../h_src/57443640.htm" class="macro">LUA_TNUMBER</a> || tr == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a> ||
<a href="../h_aa/57806720.htm" class=function>stringK</a>                                          lcode.c
   577 :    <a href="../h_src/57524232.htm" class="macro">setsvalue</a>(<a href="../h_src/57806584.htm" class="localvar">fs</a>-&gt;<a href="../h_src/57675780.htm" class="variable">ls</a>-&gt;<a href="../h_src/57700940.htm" class="variable">L</a>, &amp;<a href="../h_src/57806312.htm" class="localvar">o</a>, <a href="../h_src/57806448.htm" class="localvar">s</a>);
<a href="../h_aa/57955924.htm" class=function>sweep2old</a>                                        lgc.c
  1090 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57955244.htm" class="localvar">th</a>, <a href="../h_src/57955380.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);  <a  class="comments">/* insert into 'grayagain' list */</a>
<a href="../h_aa/57817436.htm" class=function>traverseephemeron</a>                                lgc.c
   512 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57977140.htm" class="localvar">h</a>, <a href="../h_src/57977276.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);  <a  class="comments">/* must retraverse it in atomic phase */</a>
   514 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57977140.htm" class="localvar">h</a>, <a href="../h_src/57977276.htm" class="localvar">g</a>-&gt;<a href="../h_src/57644868.htm" class="variable">ephemeron</a>);  <a  class="comments">/* have to propagate again */</a>
   516 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57977140.htm" class="localvar">h</a>, <a href="../h_src/57977276.htm" class="localvar">g</a>-&gt;<a href="../h_src/57644800.htm" class="variable">allweak</a>);  <a  class="comments">/* may have to clean white keys */</a>
   518 :    <a href="../h_src/57818660.htm" class="function">genlink</a>(<a href="../h_src/57977276.htm" class="localvar">g</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57977140.htm" class="localvar">h</a>));  <a  class="comments">/* check whether collector still needs to see it */</a>
<a href="../h_aa/57972516.htm" class=function>traverseLclosure</a>                                 lgc.c
   606 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57972380.htm" class="localvar">g</a>, <a href="../h_src/57972244.htm" class="localvar">cl</a>-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);  <a  class="comments">/* mark its prototype */</a>
   609 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57972380.htm" class="localvar">g</a>, <a href="../h_src/57971972.htm" class="localvar">uv</a>);  <a  class="comments">/* mark upvalue */</a>
<a href="../h_aa/57973604.htm" class=function>traverseproto</a>                                    lgc.c
   580 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57973468.htm" class="localvar">g</a>, <a href="../h_src/57973332.htm" class="localvar">f</a>-&gt;<a href="../h_src/57513964.htm" class="variable">source</a>);
   584 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57973468.htm" class="localvar">g</a>, <a href="../h_src/57973332.htm" class="localvar">f</a>-&gt;<a href="../h_src/57514440.htm" class="variable">upvalues</a>[<a href="../h_src/57973196.htm" class="localvar">i</a>].<a href="../h_src/57517364.htm" class="variable">name</a>);
   586 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57973468.htm" class="localvar">g</a>, <a href="../h_src/57973332.htm" class="localvar">f</a>-&gt;<a href="../h_src/57514576.htm" class="variable">p</a>[<a href="../h_src/57973196.htm" class="localvar">i</a>]);
   588 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57973468.htm" class="localvar">g</a>, <a href="../h_src/57973332.htm" class="localvar">f</a>-&gt;<a href="../h_src/57514032.htm" class="variable">locvars</a>[<a href="../h_src/57973196.htm" class="localvar">i</a>].<a href="../h_src/57516888.htm" class="variable">varname</a>);
<a href="../h_aa/57975916.htm" class=function>traversestrongtable</a>                              lgc.c
   538 :    <a href="../h_src/57818660.htm" class="function">genlink</a>(<a href="../h_src/57975780.htm" class="localvar">g</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57975644.htm" class="localvar">h</a>));
<a href="../h_aa/57974964.htm" class=function>traversetable</a>                                    lgc.c
   545 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57974828.htm" class="localvar">g</a>, <a href="../h_src/57974692.htm" class="localvar">h</a>-&gt;<a href="../h_src/57504444.htm" class="variable">metatable</a>);
   546 :    if (<a href="../h_src/57974284.htm" class="localvar">mode</a> &amp;&amp; <a href="../h_src/57524912.htm" class="macro">ttisstring</a>(<a href="../h_src/57974284.htm" class="localvar">mode</a>) &amp;&amp;  <a  class="comments">/* is there a weak mode? */</a>
   547 :    (<a href="../h_src/57547624.htm" class="macro">cast_void</a>(<a href="../h_src/57974556.htm" class="localvar">weakkey</a> = <a href="../h_aa/57565916.htm" class="libfunc">strchr</a>(<a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57974284.htm" class="localvar">mode</a>), 'k')),
   548 :    <a href="../h_src/57547624.htm" class="macro">cast_void</a>(<a href="../h_src/57974420.htm" class="localvar">weakvalue</a> = <a href="../h_aa/57565916.htm" class="libfunc">strchr</a>(<a href="../h_src/57522532.htm" class="macro">svalue</a>(<a href="../h_src/57974284.htm" class="localvar">mode</a>), 'v')),
   555 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57974692.htm" class="localvar">h</a>, <a href="../h_src/57974828.htm" class="localvar">g</a>-&gt;<a href="../h_src/57644800.htm" class="variable">allweak</a>);  <a  class="comments">/* nothing to traverse now */</a>
<a href="../h_aa/57971836.htm" class=function>traversethread</a>                                   lgc.c
   631 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57971564.htm" class="localvar">th</a>, <a href="../h_src/57971700.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);  <a  class="comments">/* insert into 'grayagain' list */</a>
   639 :    <a href="../h_src/57827024.htm" class="macro">markobject</a>(<a href="../h_src/57971700.htm" class="localvar">g</a>, <a href="../h_src/57971428.htm" class="localvar">uv</a>);  <a  class="comments">/* open upvalues cannot be collected */</a>
<a href="../h_aa/57974148.htm" class=function>traverseudata</a>                                    lgc.c
   565 :    <a href="../h_src/57826888.htm" class="macro">markobjectN</a>(<a href="../h_src/57974012.htm" class="localvar">g</a>, <a href="../h_src/57973876.htm" class="localvar">u</a>-&gt;<a href="../h_src/57519540.htm" class="variable">metatable</a>);  <a  class="comments">/* mark its metatable */</a>
   568 :    <a href="../h_src/57818660.htm" class="function">genlink</a>(<a href="../h_src/57974012.htm" class="localvar">g</a>, <a href="../h_src/57638884.htm" class="macro">obj2gco</a>(<a href="../h_src/57973876.htm" class="localvar">u</a>));
<a href="../h_aa/57818252.htm" class=function>traverseweakvalue</a>                                lgc.c
   462 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57817980.htm" class="localvar">h</a>, <a href="../h_src/57818116.htm" class="localvar">g</a>-&gt;<a href="../h_src/57644936.htm" class="variable">weak</a>);  <a  class="comments">/* has to be cleared later */</a>
   464 :    <a href="../h_src/57825800.htm" class="macro">linkgclist</a>(<a href="../h_src/57817980.htm" class="localvar">h</a>, <a href="../h_src/57818116.htm" class="localvar">g</a>-&gt;<a href="../h_src/57645004.htm" class="variable">grayagain</a>);  <a  class="comments">/* must retraverse it in atomic phase */</a>
<a href="../h_aa/143331788.htm" class=function>trymt</a>                                            lstrlib.c
   279 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57438540.htm" class="function">lua_type</a>(<a href="../h_src/143331652.htm" class="localvar">L</a>, 2) == <a href="../h_src/57443504.htm" class="macro">LUA_TSTRING</a> ||
</pre>
<h4><a class="legend">Table lists functions that directly use LUA_TSTRING</a></h4>
<pre>
<div class="footer">
Generated on 13 Dec 2023 (09:27) by <a class="footer" href="http://www.imagix.com">Imagix 4D</a>
</div>
</pre>
</body>
</html>

