<html>
<head>
<!-- This html document was created by Imagix 4D -->
<link href="../htm/symbol.css" rel="stylesheet" type="text/css">
<link href="../htm/symcolors.css" rel="stylesheet" type="text/css">
<link href="../htm/notebook.css" rel="stylesheet" type="text/css">
<base target="symbol">
</head>
<body>

<h2>ldo.c</h2>

<div class="notebook">
<ul>
<li><a href="../h_aa/57884484.htm" class="file" target="_self">Info</a></li>
<li><a href="../h_im/57884484.htm" class="file" target="_self">Global Interface</a></li>
<li><a href="../h_rx/57884484.htm" class="file" target="_self">File Inclusion</a></li>
<li><a href="../h_nm/57884484.htm" class="file" target="_self">Internals</a></li>
<li><a href="../h_uf/57884484.htm" class="file" target="_self">Use of Elements</a></li>
<li><a href="../h_df/57884484.htm" class="file" target="_self">Dependencies</a></li>
<li id="current"><a href="../h_src/57884484.htm" class="file" target="_self">Source Code</a></li>
</ul>
</div>
<div class="notebook">
<ul>
<li><a href="../h_src/57884484.htm" class="file" target="_self">Source Code</a></li>
<li id="current"><a href="../h_sc/57884484.htm" class="file" target="_self">Source Checks</a></li>
</ul>
</div>
<div class="nb_clear">
</div>
<h4>Source Checks  <a class="legend">(see key)</a></h4>
<table cellpadding=0 cellspacing=0 border=0>
<tr><td>total instances:</td><td class=mtrc>233</td></tr>
<tr><td>total checks involved:</td><td class=mtrc>8</td></tr>
<tr><td>total lines  involved:</td><td class=mtrc>171</td></tr>
<tr><th></th></tr>
</table>
<pre>
</pre>
<h5>Number of Built-In Operators</h5>
<pre>
   403 :    <a href="../h_src/57873740.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641468.htm" class="variable">oldpc</a> = <a href="../h_src/57636776.htm" class="macro">pcRel</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651124.htm" class="variable">savedpc</a>, <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);  <a  class="comments">/* set 'oldpc' */</a>
  1016 :    <a href="../h_src/57654524.htm" class="macro">luaZ_freebuffer</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, &amp;<a href="../h_src/57850960.htm" class="localvar">p</a>.<a href="../h_src/57853272.htm" class="variable">buff</a>);
</pre>
<pre>
</pre>
<h5>Unclear Subexpression</h5>
<pre>
    94 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643780.htm" class="variable">memerrmsg</a>); <a  class="comments">/* reuse preregistered msg. */</a>
    98 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57619572.htm" class="macro">luaS_newliteral</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, &quot;error in error handling&quot;));
   102 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57882784.htm" class="localvar">oldtop</a>));  <a  class="comments">/* no error message */</a>
   107 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57883056.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1);  <a  class="comments">/* error message on current top */</a>
   107 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57883056.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1);  <a  class="comments">/* error message on current top */</a>
   124 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57881832.htm" class="localvar">L</a>, <a href="../h_src/57881492.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643848.htm" class="variable">mainthread</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>++, <a href="../h_src/57881832.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1);  <a  class="comments">/* copy error obj. */</a>
   124 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57881832.htm" class="localvar">L</a>, <a href="../h_src/57881492.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643848.htm" class="variable">mainthread</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>++, <a href="../h_src/57881832.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - 1);  <a  class="comments">/* copy error obj. */</a>
   188 :    <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510768.htm" class="variable">p</a> = <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a>));
   233 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57878364.htm" class="localvar">newstack</a> + <a href="../h_src/57878500.htm" class="localvar">i</a>)); <a  class="comments">/* erase new segment */</a>
   374 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57874012.htm" class="localvar">p</a> = <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57874284.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   393 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57872924.htm" class="localvar">p</a> = <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   403 :    <a href="../h_src/57873740.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641468.htm" class="variable">oldpc</a> = <a href="../h_src/57636776.htm" class="macro">pcRel</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651124.htm" class="variable">savedpc</a>, <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);  <a  class="comments">/* set 'oldpc' */</a>
   416 :    <a href="../h_src/57872516.htm" class="localvar">tm</a> = <a href="../h_src/57498052.htm" class="function">luaT_gettmbyobj</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57872652.htm" class="localvar">func</a>), <a href="../h_src/57499344.htm" class="variable">TM_CALL</a>);  <a  class="comments">/* (after previous GC) */</a>
   418 :    <a href="../h_src/57635688.htm" class="function">luaG_callerror</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57872652.htm" class="localvar">func</a>));  <a  class="comments">/* nothing to call */</a>
   420 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57872380.htm" class="localvar">p</a>, <a href="../h_src/57872380.htm" class="localvar">p</a>-1);
   420 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57872380.htm" class="localvar">p</a>, <a href="../h_src/57872380.htm" class="localvar">p</a>-1);
   422 :    <a href="../h_src/57533412.htm" class="macro">setobj2s</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57872652.htm" class="localvar">func</a>, <a href="../h_src/57872516.htm" class="localvar">tm</a>);  <a  class="comments">/* metamethod is the new function to be called */</a>
   442 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a>));  <a  class="comments">/* adjust with nil */</a>
   444 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a>, <a href="../h_src/57871428.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - <a href="../h_src/57871156.htm" class="localvar">nres</a>);  <a  class="comments">/* move it to proper place */</a>
   444 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a>, <a href="../h_src/57871428.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - <a href="../h_src/57871156.htm" class="localvar">nres</a>);  <a  class="comments">/* move it to proper place */</a>
   472 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>, <a href="../h_src/57870884.htm" class="localvar">firstresult</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>);
   472 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>, <a href="../h_src/57870884.htm" class="localvar">firstresult</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>);
   474 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>));
   546 :    switch (<a href="../h_src/57534636.htm" class="macro">ttypetag</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>))) {
   548 :    return <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>, <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508932.htm" class="variable">f</a>);
   550 :    return <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>, <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>, <a href="../h_src/57512128.htm" class="macro">fvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>)));
   552 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57866396.htm" class="localvar">p</a> = <a href="../h_src/57512264.htm" class="macro">clLvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   559 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866940.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a> + <a href="../h_src/57865988.htm" class="localvar">i</a>, <a href="../h_src/57866804.htm" class="localvar">func</a> + <a href="../h_src/57865988.htm" class="localvar">i</a>);
   559 :    <a href="../h_src/57533548.htm" class="macro">setobjs2s</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866940.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a> + <a href="../h_src/57865988.htm" class="localvar">i</a>, <a href="../h_src/57866804.htm" class="localvar">func</a> + <a href="../h_src/57865988.htm" class="localvar">i</a>);
   562 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a> + <a href="../h_src/57866668.htm" class="localvar">narg1</a>));  <a  class="comments">/* complete missing arguments */</a>
   590 :    switch (<a href="../h_src/57534636.htm" class="macro">ttypetag</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))) {
   592 :    <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>, <a href="../h_src/57865172.htm" class="localvar">nresults</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508932.htm" class="variable">f</a>);
   595 :    <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>, <a href="../h_src/57865172.htm" class="localvar">nresults</a>, <a href="../h_src/57512128.htm" class="macro">fvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>)));
   599 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57864900.htm" class="localvar">p</a> = <a href="../h_src/57512264.htm" class="macro">clLvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   607 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>++));  <a  class="comments">/* complete missing arguments */</a>
   723 :    <a href="../h_src/57861364.htm" class="localvar">n</a> = (*<a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57861636.htm" class="localvar">L</a>, <a href="../h_src/57861228.htm" class="localvar">status</a>, <a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>);  <a  class="comments">/* call continuation */</a>
   739 :    while ((<a href="../h_src/57860684.htm" class="localvar">ci</a> = <a href="../h_src/57860956.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a>) != &amp;<a href="../h_src/57860956.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641740.htm" class="variable">base_ci</a>) {  <a  class="comments">/* something in the stack */</a>
   771 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57860004.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57618484.htm" class="function">luaS_new</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57859868.htm" class="localvar">msg</a>));  <a  class="comments">/* push error message */</a>
   801 :    <a href="../h_src/57858916.htm" class="localvar">n</a> = (*<a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57859188.htm" class="localvar">L</a>, <a href="../h_src/57445068.htm" class="macro">LUA_YIELD</a>, <a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>); <a  class="comments">/* call continuation */</a>
   836 :    if (<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a> != &amp;<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641740.htm" class="variable">base_ci</a>)  <a  class="comments">/* not in base level? */</a>
   991 :    int <a href="../h_src/57851640.htm" class="localvar">c</a> = <a href="../h_src/57656020.htm" class="macro">zgetc</a>(<a href="../h_src/57654116.htm" class="variable">p</a>-&gt;<a href="../h_src/57853340.htm" class="variable">z</a>);  <a  class="comments">/* read first character */</a>
   998 :    <a href="../h_src/57852048.htm" class="localvar">cl</a> = <a href="../h_src/57674420.htm" class="function">luaY_parser</a>(<a href="../h_src/57852320.htm" class="localvar">L</a>, <a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853340.htm" class="variable">z</a>, &amp;<a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853272.htm" class="variable">buff</a>, &amp;<a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853204.htm" class="variable">dyd</a>, <a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853068.htm" class="variable">name</a>, <a href="../h_src/57851640.htm" class="localvar">c</a>);
   998 :    <a href="../h_src/57852048.htm" class="localvar">cl</a> = <a href="../h_src/57674420.htm" class="function">luaY_parser</a>(<a href="../h_src/57852320.htm" class="localvar">L</a>, <a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853340.htm" class="variable">z</a>, &amp;<a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853272.htm" class="variable">buff</a>, &amp;<a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853204.htm" class="variable">dyd</a>, <a href="../h_src/57851776.htm" class="localvar">p</a>-&gt;<a href="../h_src/57853068.htm" class="variable">name</a>, <a href="../h_src/57851640.htm" class="localvar">c</a>);
  1014 :    <a href="../h_src/57655476.htm" class="macro">luaZ_initbuffer</a>(L, &amp;<a href="../h_src/57850960.htm" class="localvar">p</a>.<a href="../h_src/57853272.htm" class="variable">buff</a>);
  1016 :    <a href="../h_src/57654524.htm" class="macro">luaZ_freebuffer</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, &amp;<a href="../h_src/57850960.htm" class="localvar">p</a>.<a href="../h_src/57853272.htm" class="variable">buff</a>);
</pre>
<pre>
</pre>
<h5>Conversion Issue</h5>
<pre>
    94 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643780.htm" class="variable">memerrmsg</a>); <a  class="comments">/* reuse preregistered msg. */</a>
    98 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, <a href="../h_src/57882784.htm" class="localvar">oldtop</a>, <a href="../h_src/57619572.htm" class="macro">luaS_newliteral</a>(<a href="../h_src/57883056.htm" class="localvar">L</a>, &quot;error in error handling&quot;));
   102 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57882784.htm" class="localvar">oldtop</a>));  <a  class="comments">/* no error message */</a>
   168 :    <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   168 :    <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   169 :    <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   169 :    <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   171 :    <a href="../h_src/57879860.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57631404.htm" class="macro">uplevel</a>(<a href="../h_src/57879860.htm" class="localvar">up</a>));
   171 :    <a href="../h_src/57879860.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57631404.htm" class="macro">uplevel</a>(<a href="../h_src/57879860.htm" class="localvar">up</a>));
   171 :    <a href="../h_src/57879860.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57631404.htm" class="macro">uplevel</a>(<a href="../h_src/57879860.htm" class="localvar">up</a>));
   173 :    <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   173 :    <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   174 :    <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   174 :    <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531916.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57879996.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   185 :    <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   185 :    <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   186 :    <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   186 :    <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642148.htm" class="variable">tbclist</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   188 :    <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510768.htm" class="variable">p</a> = <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a>));
   188 :    <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510768.htm" class="variable">p</a> = <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a>));
   190 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   190 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   191 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   191 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531916.htm" class="variable">offset</a>);
   193 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651056.htm" class="variable">trap</a> = 1;  <a  class="comments">/* signal to update 'trap' in 'luaV_execute' */</a>
   220 :    <a href="../h_src/57878364.htm" class="localvar">newstack</a> = <a href="../h_src/57657244.htm" class="macro">luaM_reallocvector</a>(<a href="../h_src/57879044.htm" class="localvar">L</a>, <a href="../h_src/57879044.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642284.htm" class="variable">stack</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57878636.htm" class="localvar">oldsize</a> + <a href="../h_src/57652688.htm" class="macro">EXTRA_STACK</a>,
   221 :    <a href="../h_src/57878908.htm" class="localvar">newsize</a> + <a href="../h_src/57652688.htm" class="macro">EXTRA_STACK</a>, <a href="../h_src/57532256.htm" class="type">StackValue</a>);
   222 :    <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57879044.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57645888.htm" class="variable">gcstopem</a> = <a href="../h_src/57878228.htm" class="localvar">oldgcstop</a>;  <a  class="comments">/* restore emergency collection */</a>
   233 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57878364.htm" class="localvar">newstack</a> + <a href="../h_src/57878500.htm" class="localvar">i</a>)); <a  class="comments">/* erase new segment */</a>
   334 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57874828.htm" class="localvar">top</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);  <a  class="comments">/* preserve original 'top' */</a>
   334 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57874828.htm" class="localvar">top</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);  <a  class="comments">/* preserve original 'top' */</a>
   335 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57874692.htm" class="localvar">ci_top</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);  <a  class="comments">/* idem for 'ci-&gt;top' */</a>
   335 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57874692.htm" class="localvar">ci_top</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a><a href="../h_src/57531984.htm" class="variable">p</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);  <a  class="comments">/* idem for 'ci-&gt;top' */</a>
   342 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649560.htm" class="variable">u2</a>.<a href="../h_src/57649696.htm" class="variable">transferinfo</a>.<a href="../h_src/57649900.htm" class="variable">ftransfer</a> = <a href="../h_src/57875508.htm" class="localvar">ftransfer</a>;
   343 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649560.htm" class="variable">u2</a>.<a href="../h_src/57649696.htm" class="variable">transferinfo</a>.<a href="../h_src/57649832.htm" class="variable">ntransfer</a> = <a href="../h_src/57875372.htm" class="localvar">ntransfer</a>;
   351 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> |= <a href="../h_src/57875100.htm" class="localvar">mask</a>;
   357 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874692.htm" class="localvar">ci_top</a>);
   357 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874692.htm" class="localvar">ci_top</a>);
   358 :    <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874828.htm" class="localvar">top</a>);
   358 :    <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57874828.htm" class="localvar">top</a>);
   359 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> &amp;= ~<a href="../h_src/57875100.htm" class="localvar">mask</a>;
   374 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57874012.htm" class="localvar">p</a> = <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57874284.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   393 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57872924.htm" class="localvar">p</a> = <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   398 :    <a href="../h_src/57873060.htm" class="localvar">ftransfer</a> = <a href="../h_src/57547760.htm" class="macro">cast</a>(unsigned short, <a href="../h_src/57873332.htm" class="localvar">firstres</a> - <a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   398 :    <a href="../h_src/57873060.htm" class="localvar">ftransfer</a> = <a href="../h_src/57547760.htm" class="macro">cast</a>(unsigned short, <a href="../h_src/57873332.htm" class="localvar">firstres</a> - <a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a>);
   403 :    <a href="../h_src/57873740.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641468.htm" class="variable">oldpc</a> = <a href="../h_src/57636776.htm" class="macro">pcRel</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651124.htm" class="variable">savedpc</a>, <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);  <a  class="comments">/* set 'oldpc' */</a>
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   442 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a>));  <a  class="comments">/* adjust with nil */</a>
   452 :    <a href="../h_src/57871428.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> |= <a href="../h_src/57648132.htm" class="macro">CIST_CLSRET</a>;  <a  class="comments">/* in case of yields */</a>
   455 :    <a href="../h_src/57871428.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> &amp;= ~<a href="../h_src/57648132.htm" class="macro">CIST_CLSRET</a>;
   457 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57870340.htm" class="localvar">savedres</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a>);
   457 :    <a href="../h_aa/57441872.htm" class="type">ptrdiff_t</a> <a href="../h_src/57870340.htm" class="localvar">savedres</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57871292.htm" class="localvar">res</a>);
   459 :    <a href="../h_src/57871292.htm" class="localvar">res</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57870340.htm" class="localvar">savedres</a>);  <a  class="comments">/* hook can move stack */</a><a href="../h_src/57642284.htm" class="variable">stack</a> */
   459 :    <a href="../h_src/57871292.htm" class="localvar">res</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57871428.htm" class="localvar">L</a>, <a href="../h_src/57870340.htm" class="localvar">savedres</a>);  <a  class="comments">/* hook can move stack */</a><a href="../h_src/57642284.htm" class="variable">stack</a> */
   474 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>));
   506 :    <a href="../h_src/57868436.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649492.htm" class="variable">nresults</a> = <a href="../h_src/57868844.htm" class="localvar">nret</a>;
   507 :    <a href="../h_src/57868436.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> = <a href="../h_src/57868708.htm" class="localvar">mask</a>;
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   529 :    <a href="../h_src/57867620.htm" class="localvar">n</a> = (*<a href="../h_src/57867756.htm" class="localvar">f</a>)(<a href="../h_src/57868164.htm" class="localvar">L</a>);  <a  class="comments">/* do the actual call */</a>
   548 :    return <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>, <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508932.htm" class="variable">f</a>);
   552 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57866396.htm" class="localvar">p</a> = <a href="../h_src/57512264.htm" class="macro">clLvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   562 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a> + <a href="../h_src/57866668.htm" class="localvar">narg1</a>));  <a  class="comments">/* complete missing arguments */</a>
   566 :    <a href="../h_src/57866940.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> |= <a href="../h_src/57648676.htm" class="macro">CIST_TAIL</a>;
   592 :    <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>, <a href="../h_src/57865172.htm" class="localvar">nresults</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508932.htm" class="variable">f</a>);
   599 :    <a href="../h_src/57513828.htm" class="type">Proto</a> *<a href="../h_src/57864900.htm" class="localvar">p</a> = <a href="../h_src/57512264.htm" class="macro">clLvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>;
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   607 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>++));  <a  class="comments">/* complete missing arguments */</a>
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   636 :    <a href="../h_src/57863540.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> = <a href="../h_src/57649084.htm" class="macro">CIST_FRESH</a>;  <a  class="comments">/* mark that it is a &quot;fresh&quot; execute */</a>
   680 :    <a href="../h_src/57532188.htm" class="type">StkId</a> <a href="../h_src/57861908.htm" class="localvar">func</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57862316.htm" class="localvar">L</a>, <a href="../h_src/57862180.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649560.htm" class="variable">u2</a>.<a href="../h_src/57650172.htm" class="variable">funcidx</a>);
   680 :    <a href="../h_src/57532188.htm" class="type">StkId</a> <a href="../h_src/57861908.htm" class="localvar">func</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57862316.htm" class="localvar">L</a>, <a href="../h_src/57862180.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649560.htm" class="variable">u2</a>.<a href="../h_src/57650172.htm" class="variable">funcidx</a>);
   681 :    <a href="../h_src/57862316.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642760.htm" class="variable">allowhook</a> = <a href="../h_src/57647044.htm" class="macro">getoah</a>(<a href="../h_src/57862180.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a>);  <a  class="comments">/* restore 'allowhook' */</a>
   687 :    <a href="../h_src/57862180.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> &amp;= ~<a href="../h_src/57648812.htm" class="macro">CIST_YPCALL</a>;
   723 :    <a href="../h_src/57861364.htm" class="localvar">n</a> = (*<a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57861636.htm" class="localvar">L</a>, <a href="../h_src/57861228.htm" class="localvar">status</a>, <a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>);  <a  class="comments">/* call continuation */</a>
   771 :    <a href="../h_src/57524096.htm" class="macro">setsvalue2s</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57860004.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>, <a href="../h_src/57618484.htm" class="function">luaS_new</a>(<a href="../h_src/57860004.htm" class="localvar">L</a>, <a href="../h_src/57859868.htm" class="localvar">msg</a>));  <a  class="comments">/* push error message */</a>
   801 :    <a href="../h_src/57858916.htm" class="localvar">n</a> = (*<a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57859188.htm" class="localvar">L</a>, <a href="../h_src/57445068.htm" class="macro">LUA_YIELD</a>, <a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>); <a  class="comments">/* call continuation */</a>
   855 :    <a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642828.htm" class="variable">status</a> = <a href="../h_src/57546944.htm" class="macro">cast_byte</a>(<a href="../h_src/57857420.htm" class="localvar">status</a>);  <a  class="comments">/* mark thread as 'dead' */</a>
   929 :    <a href="../h_src/57854836.htm" class="localvar">pcl</a>.<a href="../h_src/57856332.htm" class="variable">level</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57855516.htm" class="localvar">L</a>, <a href="../h_src/57855380.htm" class="localvar">level</a>); <a href="../h_src/57854836.htm" class="localvar">pcl</a>.<a href="../h_src/57856264.htm" class="variable">status</a> = <a href="../h_src/57855244.htm" class="localvar">status</a>;
   929 :    <a href="../h_src/57854836.htm" class="localvar">pcl</a>.<a href="../h_src/57856332.htm" class="variable">level</a> = <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57855516.htm" class="localvar">L</a>, <a href="../h_src/57855380.htm" class="localvar">level</a>); <a href="../h_src/57854836.htm" class="localvar">pcl</a>.<a href="../h_src/57856264.htm" class="variable">status</a> = <a href="../h_src/57855244.htm" class="localvar">status</a>;
   958 :    <a href="../h_src/57633648.htm" class="function">luaD_seterrorobj</a>(<a href="../h_src/57854700.htm" class="localvar">L</a>, <a href="../h_src/57854020.htm" class="localvar">status</a>, <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57854700.htm" class="localvar">L</a>, <a href="../h_src/57854292.htm" class="localvar">old_top</a><a href="../h_src/57531984.htm" class="variable">p</a>));
   958 :    <a href="../h_src/57633648.htm" class="function">luaD_seterrorobj</a>(<a href="../h_src/57854700.htm" class="localvar">L</a>, <a href="../h_src/57854020.htm" class="localvar">status</a>, <a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57854700.htm" class="localvar">L</a>, <a href="../h_src/57854292.htm" class="localvar">old_top</a><a href="../h_src/57531984.htm" class="variable">p</a>));
   991 :    int <a href="../h_src/57851640.htm" class="localvar">c</a> = <a href="../h_src/57656020.htm" class="macro">zgetc</a>(<a href="../h_src/57654116.htm" class="variable">p</a>-&gt;<a href="../h_src/57853340.htm" class="variable">z</a>);  <a  class="comments">/* read first character */</a>
  1015 :    <a href="../h_src/57850824.htm" class="localvar">status</a> = <a href="../h_src/57632968.htm" class="function">luaD_pcall</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, <a href="../h_src/57852456.htm" class="function">f_parser</a>, &amp;<a href="../h_src/57850960.htm" class="localvar">p</a>, <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, <a href="../h_src/57851504.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>), <a href="../h_src/57851504.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641604.htm" class="variable">errfunc</a>);
  1015 :    <a href="../h_src/57850824.htm" class="localvar">status</a> = <a href="../h_src/57632968.htm" class="function">luaD_pcall</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, <a href="../h_src/57852456.htm" class="function">f_parser</a>, &amp;<a href="../h_src/57850960.htm" class="localvar">p</a>, <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57851504.htm" class="localvar">L</a>, <a href="../h_src/57851504.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>), <a href="../h_src/57851504.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641604.htm" class="variable">errfunc</a>);
</pre>
<pre>
</pre>
<h5>Suspicious Assignment</h5>
<pre>
   402 :    if (<a href="../h_src/57647452.htm" class="macro">isLua</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a> = <a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651396.htm" class="variable">previous</a>))
</pre>
<pre>
</pre>
<h5>Needs Compound Statement</h5>
<pre>
   170 :    for (<a href="../h_src/57879860.htm" class="localvar">up</a> = <a href="../h_src/57880132.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642216.htm" class="variable">openupval</a>; <a href="../h_src/57879860.htm" class="localvar">up</a> != NULL; <a href="../h_src/57879860.htm" class="localvar">up</a> = <a href="../h_src/57879860.htm" class="localvar">up</a>-&gt;<a href="../h_src/57509680.htm" class="variable">u</a>.<a href="../h_src/57509884.htm" class="variable">open</a>.<a href="../h_src/57510224.htm" class="variable">next</a>)
   171 :    <a href="../h_src/57879860.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a> = <a href="../h_src/57634396.htm" class="macro">savestack</a>(<a href="../h_src/57880132.htm" class="localvar">L</a>, <a href="../h_src/57631404.htm" class="macro">uplevel</a>(<a href="../h_src/57879860.htm" class="localvar">up</a>));
   187 :    for (<a href="../h_src/57879316.htm" class="localvar">up</a> = <a href="../h_src/57879588.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642216.htm" class="variable">openupval</a>; <a href="../h_src/57879316.htm" class="localvar">up</a> != NULL; <a href="../h_src/57879316.htm" class="localvar">up</a> = <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57509680.htm" class="variable">u</a>.<a href="../h_src/57509884.htm" class="variable">open</a>.<a href="../h_src/57510224.htm" class="variable">next</a>)
   188 :    <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510768.htm" class="variable">p</a> = <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57634260.htm" class="macro">restorestack</a>(<a href="../h_src/57879588.htm" class="localvar">L</a>, <a href="../h_src/57879316.htm" class="localvar">up</a>-&gt;<a href="../h_src/57510564.htm" class="variable">v</a>.<a href="../h_src/57510700.htm" class="variable">offset</a>));
   192 :    if (<a href="../h_src/57647452.htm" class="macro">isLua</a>(<a href="../h_src/57879452.htm" class="localvar">ci</a>))
   193 :    <a href="../h_src/57879452.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651056.htm" class="variable">trap</a> = 1;  <a  class="comments">/* signal to update 'trap' in 'luaV_execute' */</a>
   225 :    if (<a href="../h_src/57878772.htm" class="localvar">raiseerror</a>)
   226 :    <a href="../h_src/57496556.htm" class="macro">luaM_error</a>(<a href="../h_src/57879044.htm" class="localvar">L</a>);
   227 :    else return 0;  <a  class="comments">/* do not raise an error */</a>
   232 :    for (<a href="../h_src/57878500.htm" class="localvar">i</a> = <a href="../h_src/57878636.htm" class="localvar">oldsize</a> + <a href="../h_src/57652688.htm" class="macro">EXTRA_STACK</a>; <a href="../h_src/57878500.htm" class="localvar">i</a> &lt; <a href="../h_src/57878908.htm" class="localvar">newsize</a> + <a href="../h_src/57652688.htm" class="macro">EXTRA_STACK</a>; <a href="../h_src/57878500.htm" class="localvar">i</a>++)
   233 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57878364.htm" class="localvar">newstack</a> + <a href="../h_src/57878500.htm" class="localvar">i</a>)); <a  class="comments">/* erase new segment */</a>
   249 :    if (<a href="../h_src/57877820.htm" class="localvar">raiseerror</a>)
   250 :    <a href="../h_src/57632560.htm" class="function">luaD_throw</a>(<a href="../h_src/57878092.htm" class="localvar">L</a>, <a href="../h_src/57444524.htm" class="macro">LUA_ERRERR</a>);  <a  class="comments">/* error inside message handler */</a>
   256 :    if (<a href="../h_src/57877548.htm" class="localvar">newsize</a> &gt; <a href="../h_src/57447652.htm" class="macro">LUAI_MAXSTACK</a>)  <a  class="comments">/* cannot cross the limit */</a>
   257 :    <a href="../h_src/57877548.htm" class="localvar">newsize</a> = <a href="../h_src/57447652.htm" class="macro">LUAI_MAXSTACK</a>;
   258 :    if (<a href="../h_src/57877548.htm" class="localvar">newsize</a> &lt; <a href="../h_src/57877412.htm" class="localvar">needed</a>)  <a  class="comments">/* but must respect what was asked for */</a>
   259 :    <a href="../h_src/57877548.htm" class="localvar">newsize</a> = <a href="../h_src/57877412.htm" class="localvar">needed</a>;
   260 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57877548.htm" class="localvar">newsize</a> &lt;= <a href="../h_src/57447652.htm" class="macro">LUAI_MAXSTACK</a>))
   261 :    return <a href="../h_src/57632832.htm" class="function">luaD_reallocstack</a>(<a href="../h_src/57878092.htm" class="localvar">L</a>, <a href="../h_src/57877548.htm" class="localvar">newsize</a>, <a href="../h_src/57877820.htm" class="localvar">raiseerror</a>);
   266 :    if (<a href="../h_src/57877820.htm" class="localvar">raiseerror</a>)
   267 :    <a href="../h_src/57635280.htm" class="function">luaG_runerror</a>(<a href="../h_src/57878092.htm" class="localvar">L</a>, &quot;stack overflow&quot;);
   281 :    if (<a href="../h_src/57876732.htm" class="localvar">lim</a> &lt; <a href="../h_src/57877004.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>) <a href="../h_src/57876732.htm" class="localvar">lim</a> = <a href="../h_src/57877004.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>;
   285 :    if (<a href="../h_src/57876868.htm" class="localvar">res</a> &lt; <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>)
   286 :    <a href="../h_src/57876868.htm" class="localvar">res</a> = <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>;  <a  class="comments">/* ensure a minimum size */</a>
   309 :    else  <a  class="comments">/* don't change stack */</a>
   310 :    <a href="../h_src/57538512.htm" class="macro">condmovestack</a>(L,{},{});  <a  class="comments">/* (change only for debugging) */</a>
   345 :    if (<a href="../h_src/57647452.htm" class="macro">isLua</a>(<a href="../h_src/57874964.htm" class="localvar">ci</a>) &amp;&amp; <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> &lt; <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>)
   346 :    <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>;  <a  class="comments">/* protect entire activation register */</a>
   348 :    if (<a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> &lt; <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> + <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>)
   349 :    <a href="../h_src/57874964.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651464.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> = <a href="../h_src/57875916.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> + <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>;
   394 :    if (<a href="../h_src/57872924.htm" class="localvar">p</a>-&gt;<a href="../h_src/57515868.htm" class="variable">is_vararg</a>)
   395 :    <a href="../h_src/57873196.htm" class="localvar">delta</a> = <a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57650988.htm" class="variable">nextraargs</a> + <a href="../h_src/57872924.htm" class="localvar">p</a>-&gt;<a href="../h_src/57515936.htm" class="variable">numparams</a> + 1;
   402 :    if (<a href="../h_src/57647452.htm" class="macro">isLua</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a> = <a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57651396.htm" class="variable">previous</a>))
   403 :    <a href="../h_src/57873740.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641468.htm" class="variable">oldpc</a> = <a href="../h_src/57636776.htm" class="macro">pcRel</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650852.htm" class="variable">l</a>.<a href="../h_src/57651124.htm" class="variable">savedpc</a>, <a href="../h_src/57636640.htm" class="macro">ci_func</a>(<a href="../h_src/57873604.htm" class="localvar">ci</a>)-&gt;<a href="../h_src/57508184.htm" class="variable">p</a>);  <a  class="comments">/* set 'oldpc' */</a>
   417 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57531168.htm" class="macro">ttisnil</a>(<a href="../h_src/57872516.htm" class="localvar">tm</a>)))
   418 :    <a href="../h_src/57635688.htm" class="function">luaG_callerror</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, <a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57872652.htm" class="localvar">func</a>));  <a  class="comments">/* nothing to call */</a>
   441 :    if (<a href="../h_src/57871156.htm" class="localvar">nres</a> == 0)   <a  class="comments">/* no results? */</a>
   442 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a>));  <a  class="comments">/* adjust with nil */</a>
   462 :    if (<a href="../h_src/57871020.htm" class="localvar">wanted</a> == <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>)
   463 :    <a href="../h_src/57871020.htm" class="localvar">wanted</a> = <a href="../h_src/57871156.htm" class="localvar">nres</a>;  <a  class="comments">/* we want all results */</a>
   469 :    if (<a href="../h_src/57871156.htm" class="localvar">nres</a> &gt; <a href="../h_src/57871020.htm" class="localvar">wanted</a>)  <a  class="comments">/* extra results? */</a>
   470 :    <a href="../h_src/57871156.htm" class="localvar">nres</a> = <a href="../h_src/57871020.htm" class="localvar">wanted</a>;  <a  class="comments">/* don't need them */</a>
   473 :    for (; <a href="../h_src/57870748.htm" class="localvar">i</a> &lt; <a href="../h_src/57871020.htm" class="localvar">wanted</a>; <a href="../h_src/57870748.htm" class="localvar">i</a>++)  <a  class="comments">/* complete wanted number of results */</a>
   474 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57871292.htm" class="localvar">res</a> + <a href="../h_src/57870748.htm" class="localvar">i</a>));
   487 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57869932.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641264.htm" class="variable">hookmask</a> &amp;&amp; !<a href="../h_src/57637524.htm" class="macro">hastocloseCfunc</a>(<a href="../h_src/57869524.htm" class="localvar">wanted</a>)))
   488 :    <a href="../h_src/57873876.htm" class="function">rethook</a>(<a href="../h_src/57869932.htm" class="localvar">L</a>, <a href="../h_src/57869796.htm" class="localvar">ci</a>, <a href="../h_src/57869660.htm" class="localvar">nres</a>);
   561 :    for (; <a href="../h_src/57866668.htm" class="localvar">narg1</a> &lt;= <a href="../h_src/57866124.htm" class="localvar">nfixparams</a>; <a href="../h_src/57866668.htm" class="localvar">narg1</a>++)
   562 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57866804.htm" class="localvar">func</a> + <a href="../h_src/57866668.htm" class="localvar">narg1</a>));  <a  class="comments">/* complete missing arguments */</a>
   606 :    for (; <a href="../h_src/57864764.htm" class="localvar">narg</a> &lt; <a href="../h_src/57864628.htm" class="localvar">nfixparams</a>; <a href="../h_src/57864764.htm" class="localvar">narg</a>++)
   607 :    <a href="../h_src/57530896.htm" class="macro">setnilvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a>++));  <a  class="comments">/* complete missing arguments */</a>
   677 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57862044.htm" class="localvar">status</a> == <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>))  <a  class="comments">/* no error? */</a>
   678 :    <a href="../h_src/57862044.htm" class="localvar">status</a> = <a href="../h_src/57445068.htm" class="macro">LUA_YIELD</a>;  <a  class="comments">/* was interrupted by an yield */</a>
   719 :    if (<a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> &amp; <a href="../h_src/57648812.htm" class="macro">CIST_YPCALL</a>)   <a  class="comments">/* was inside a 'lua_pcallk'? */</a>
   720 :    <a href="../h_src/57861228.htm" class="localvar">status</a> = <a href="../h_src/57862452.htm" class="function">finishpcallk</a>(<a href="../h_src/57861636.htm" class="localvar">L</a>, <a href="../h_src/57861500.htm" class="localvar">ci</a>);  <a  class="comments">/* finish it */</a>
   721 :    <a href="../h_src/57637796.htm" class="macro">adjustresults</a>(<a href="../h_src/57861636.htm" class="localvar">L</a>, <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>);  <a  class="comments">/* finish 'lua_callk' */</a>
   740 :    if (!<a href="../h_src/57647452.htm" class="macro">isLua</a>(<a href="../h_src/57860684.htm" class="localvar">ci</a>))  <a  class="comments">/* C function? */</a>
   741 :    <a href="../h_src/57861772.htm" class="function">finishCcall</a>(<a href="../h_src/57860956.htm" class="localvar">L</a>, <a href="../h_src/57860684.htm" class="localvar">ci</a>);  <a  class="comments">/* complete its execution */</a>
   757 :    if (<a href="../h_src/57860276.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57649424.htm" class="variable">callstatus</a> &amp; <a href="../h_src/57648812.htm" class="macro">CIST_YPCALL</a>)
   758 :    return <a href="../h_src/57860276.htm" class="localvar">ci</a>;
   789 :    if (<a href="../h_src/57859188.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642828.htm" class="variable">status</a> == <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>)  <a  class="comments">/* starting a coroutine? */</a>
   790 :    <a href="../h_src/57864220.htm" class="function">ccall</a>(<a href="../h_src/57859188.htm" class="localvar">L</a>, <a href="../h_src/57858780.htm" class="localvar">firstArg</a> - 1, <a href="../h_src/57445612.htm" class="macro">LUA_MULTRET</a>, 0);  <a  class="comments">/* just call its body */</a>
   836 :    if (<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a> != &amp;<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641740.htm" class="variable">base_ci</a>)  <a  class="comments">/* not in base level? */</a>
   837 :    return <a href="../h_src/57860140.htm" class="function">resume_error</a>(<a href="../h_src/57857964.htm" class="localvar">L</a>, &quot;cannot resume non-suspended coroutine&quot;, <a href="../h_src/57857692.htm" class="localvar">nargs</a>);
   838 :    else if (<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642624.htm" class="variable">top</a>.<a href="../h_src/57531984.htm" class="variable">p</a> - (<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642420.htm" class="variable">ci</a>-&gt;<a href="../h_src/57651532.htm" class="variable">func</a>.<a href="../h_src/57531984.htm" class="variable">p</a> + 1) == <a href="../h_src/57857692.htm" class="localvar">nargs</a>)  <a  class="comments">/* no function? */</a>
   839 :    return <a href="../h_src/57860140.htm" class="function">resume_error</a>(<a href="../h_src/57857964.htm" class="localvar">L</a>, &quot;cannot resume dead coroutine&quot;, <a href="../h_src/57857692.htm" class="localvar">nargs</a>);
   841 :    else if (<a href="../h_src/57857964.htm" class="localvar">L</a>-&gt;<a href="../h_src/57642828.htm" class="variable">status</a> != <a href="../h_src/57445068.htm" class="macro">LUA_YIELD</a>)  <a  class="comments">/* ended with errors? */</a>
   842 :    return <a href="../h_src/57860140.htm" class="function">resume_error</a>(<a href="../h_src/57857964.htm" class="localvar">L</a>, &quot;cannot resume dead coroutine&quot;, <a href="../h_src/57857692.htm" class="localvar">nargs</a>);
   844 :    if (<a href="../h_src/57653640.htm" class="macro">getCcalls</a>(<a href="../h_src/57857964.htm" class="localvar">L</a>) &gt;= <a href="../h_src/57543680.htm" class="macro">LUAI_MAXCCALLS</a>)
   845 :    return <a href="../h_src/57860140.htm" class="function">resume_error</a>(<a href="../h_src/57857964.htm" class="localvar">L</a>, &quot;C stack overflow&quot;, <a href="../h_src/57857692.htm" class="localvar">nargs</a>);
   852 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(!<a href="../h_src/57884144.htm" class="macro">errorstatus</a>(<a href="../h_src/57857420.htm" class="localvar">status</a>)))
   853 :    <a href="../h_src/57548848.htm" class="macro">lua_assert</a>(status == L-&gt;status);  <a  class="comments">/* normal end or yield */</a>
   879 :    if (<a href="../h_src/57857148.htm" class="localvar">L</a> != <a href="../h_src/57641196.htm" class="macro">G</a>(<a href="../h_src/57857148.htm" class="localvar">L</a>)-&gt;<a href="../h_src/57643848.htm" class="variable">mainthread</a>)
   880 :    <a href="../h_src/57635280.htm" class="function">luaG_runerror</a>(<a href="../h_src/57857148.htm" class="localvar">L</a>, &quot;attempt to yield across a C-call boundary&quot;);
   881 :    else
   882 :    <a href="../h_src/57635280.htm" class="function">luaG_runerror</a>(<a href="../h_src/57857148.htm" class="localvar">L</a>, &quot;attempt to yield from outside a coroutine&quot;);
   892 :    if ((<a href="../h_src/57856604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a> = <a href="../h_src/57856740.htm" class="localvar">k</a>) != NULL)  <a  class="comments">/* is there a continuation? */</a>
   893 :    <a href="../h_src/57856604.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a> = <a href="../h_src/57856876.htm" class="localvar">ctx</a>;  <a  class="comments">/* save context */</a>
   931 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57855244.htm" class="localvar">status</a> == <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>))  <a  class="comments">/* no more errors? */</a>
   932 :    return <a href="../h_src/57854836.htm" class="localvar">pcl</a>.<a href="../h_src/57856264.htm" class="variable">status</a>;
</pre>
<pre>
</pre>
<h5>Jump Statement</h5>
<pre>
   574 :    goto retry;  <a  class="comments">/* try again */</a>
   614 :    goto retry;  <a  class="comments">/* try again with metamethod */</a>
</pre>
<pre>
</pre>
<h5>Return Ignored</h5>
<pre>
   130 :    <a href="../h_src/57881492.htm" class="localvar">g</a>-&gt;<a href="../h_src/57643916.htm" class="variable">panic</a>(<a href="../h_src/57881832.htm" class="localvar">L</a>);  <a  class="comments">/* call panic function (last chance to jump out) */</a>
   265 :    <a href="../h_src/57632832.htm" class="function">luaD_reallocstack</a>(<a href="../h_src/57878092.htm" class="localvar">L</a>, <a href="../h_src/57879180.htm" class="macro">ERRORSTACKSIZE</a>, <a href="../h_src/57877820.htm" class="localvar">raiseerror</a>);
   307 :    <a href="../h_src/57632832.htm" class="function">luaD_reallocstack</a>(<a href="../h_src/57876596.htm" class="localvar">L</a>, <a href="../h_src/57876188.htm" class="localvar">nsize</a>, 0);  <a  class="comments">/* ok if that fails */</a>
   316 :    <a href="../h_src/57634532.htm" class="macro">luaD_checkstack</a>(<a href="../h_src/57876052.htm" class="localvar">L</a>, 1);
   347 :    <a href="../h_src/57634532.htm" class="macro">luaD_checkstack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>);  <a  class="comments">/* ensure minimum stack size */</a>
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   592 :    <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>, <a href="../h_src/57865172.htm" class="localvar">nresults</a>, <a href="../h_src/57511992.htm" class="macro">clCvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>))-&gt;<a href="../h_src/57508932.htm" class="variable">f</a>);
   595 :    <a href="../h_src/57868300.htm" class="function">precallC</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>, <a href="../h_src/57865172.htm" class="localvar">nresults</a>, <a href="../h_src/57512128.htm" class="macro">fvalue</a>(<a href="../h_src/57531712.htm" class="macro">s2v</a>(<a href="../h_src/57865308.htm" class="localvar">func</a>)));
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   916 :    <a href="../h_src/57630384.htm" class="function">luaF_close</a>(<a href="../h_src/57856060.htm" class="localvar">L</a>, <a href="../h_src/57855652.htm" class="localvar">pcl</a>-&gt;<a href="../h_src/57856332.htm" class="variable">level</a>, <a href="../h_src/57855652.htm" class="localvar">pcl</a>-&gt;<a href="../h_src/57856264.htm" class="variable">status</a>, 0);
   981 :    <a href="../h_src/57501384.htm" class="function">luaO_pushfstring</a>(<a href="../h_src/57852864.htm" class="localvar">L</a>,
   982 :    &quot;attempt to load a %s chunk (mode is '%s')&quot;, <a href="../h_src/57852592.htm" class="localvar">x</a>, <a href="../h_src/57852728.htm" class="localvar">mode</a>);
</pre>
<pre>
</pre>
<h5>Missing/Mismatched Function Declarator</h5>
<pre>
   118 :    <a href="../h_src/57883668.htm" class="macro">LUAI_THROW</a>(L, <a href="../h_src/57881832.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641808.htm" class="variable">errorJmp</a>);  <a  class="comments">/* jump to it */</a>
   132 :    <a href="../h_aa/57881084.htm" class="libfunc">abort</a>();
   144 :    <a href="../h_src/57883532.htm" class="macro">LUAI_TRY</a>(L, &amp;<a href="../h_src/57880472.htm" class="localvar">lj</a>,
   145 :    (*<a href="../h_src/57880880.htm" class="localvar">f</a>)(<a href="../h_src/57881016.htm" class="localvar">L</a>, <a href="../h_src/57880744.htm" class="localvar">ud</a>);
   223 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57878364.htm" class="localvar">newstack</a> == NULL)) {  <a  class="comments">/* reallocation failed? */</a>
   244 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57877684.htm" class="localvar">size</a> &gt; <a href="../h_src/57447652.htm" class="macro">LUAI_MAXSTACK</a>)) {
   260 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57877548.htm" class="localvar">newsize</a> &lt;= <a href="../h_src/57447652.htm" class="macro">LUAI_MAXSTACK</a>))
   316 :    <a href="../h_src/57634532.htm" class="macro">luaD_checkstack</a>(<a href="../h_src/57876052.htm" class="localvar">L</a>, 1);
   347 :    <a href="../h_src/57634532.htm" class="macro">luaD_checkstack</a>(<a href="../h_src/57875916.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>);  <a  class="comments">/* ensure minimum stack size */</a>
   353 :    (*<a href="../h_src/57875236.htm" class="localvar">hook</a>)(<a href="../h_src/57875916.htm" class="localvar">L</a>, &amp;<a href="../h_src/57874556.htm" class="localvar">ar</a>);
   415 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57872788.htm" class="localvar">L</a>, 1, <a href="../h_src/57872652.htm" class="localvar">func</a>);  <a  class="comments">/* space for metamethod */</a>
   417 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57531168.htm" class="macro">ttisnil</a>(<a href="../h_src/57872516.htm" class="localvar">tm</a>)))
   487 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57869932.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641264.htm" class="variable">hookmask</a> &amp;&amp; !<a href="../h_src/57637524.htm" class="macro">hastocloseCfunc</a>(<a href="../h_src/57869524.htm" class="localvar">wanted</a>)))
   520 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>, <a href="../h_src/57442688.htm" class="macro">LUA_MINSTACK</a>, <a href="../h_src/57868028.htm" class="localvar">func</a>);  <a  class="comments">/* ensure minimum stack size */</a><a href="../h_src/57642284.htm" class="variable">stack</a> size */
   524 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57868164.htm" class="localvar">L</a>-&gt;<a href="../h_src/57641264.htm" class="variable">hookmask</a> &amp; <a href="../h_src/57425212.htm" class="macro">LUA_MASKCALL</a>)) {
   529 :    <a href="../h_src/57867620.htm" class="localvar">n</a> = (*<a href="../h_src/57867756.htm" class="localvar">f</a>)(<a href="../h_src/57868164.htm" class="localvar">L</a>);  <a  class="comments">/* do the actual call */</a>
   556 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57867076.htm" class="localvar">L</a>, <a href="../h_src/57866260.htm" class="localvar">fsize</a> - <a href="../h_src/57866532.htm" class="localvar">delta</a>, <a href="../h_src/57866804.htm" class="localvar">func</a>);
   603 :    <a href="../h_src/57633988.htm" class="macro">checkstackGCp</a>(<a href="../h_src/57865444.htm" class="localvar">L</a>, <a href="../h_src/57864492.htm" class="localvar">fsize</a>, <a href="../h_src/57865308.htm" class="localvar">func</a>);
   631 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57653640.htm" class="macro">getCcalls</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>) &gt;= <a href="../h_src/57543680.htm" class="macro">LUAI_MAXCCALLS</a>)) {
   632 :    <a href="../h_src/57634124.htm" class="macro">checkstackp</a>(<a href="../h_src/57864084.htm" class="localvar">L</a>, 0, <a href="../h_src/57863948.htm" class="localvar">func</a>);  <a  class="comments">/* free any use of EXTRA_STACK */</a>
   677 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57862044.htm" class="localvar">status</a> == <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>))  <a  class="comments">/* no error? */</a>
   723 :    <a href="../h_src/57861364.htm" class="localvar">n</a> = (*<a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57861636.htm" class="localvar">L</a>, <a href="../h_src/57861228.htm" class="localvar">status</a>, <a href="../h_src/57861500.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>);  <a  class="comments">/* call continuation */</a>
   801 :    <a href="../h_src/57858916.htm" class="localvar">n</a> = (*<a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650716.htm" class="variable">k</a>)(<a href="../h_src/57859188.htm" class="localvar">L</a>, <a href="../h_src/57445068.htm" class="macro">LUA_YIELD</a>, <a href="../h_src/57858644.htm" class="localvar">ci</a>-&gt;<a href="../h_src/57650308.htm" class="variable">u</a>.<a href="../h_src/57650444.htm" class="variable">c</a>.<a href="../h_src/57650580.htm" class="variable">ctx</a>); <a  class="comments">/* call continuation */</a>
   852 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(!<a href="../h_src/57884144.htm" class="macro">errorstatus</a>(<a href="../h_src/57857420.htm" class="localvar">status</a>)))
   878 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(!<a href="../h_src/57653776.htm" class="macro">yieldable</a>(<a href="../h_src/57857148.htm" class="localvar">L</a>))) {
   931 :    if (<a href="../h_src/57551704.htm" class="macro">l_likely</a>(<a href="../h_src/57855244.htm" class="localvar">status</a> == <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>))  <a  class="comments">/* no more errors? */</a>
   954 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/57854020.htm" class="localvar">status</a> != <a href="../h_src/57445204.htm" class="macro">LUA_OK</a>)) {  <a  class="comments">/* an error occurred? */</a>
   980 :    if (<a href="../h_src/57852728.htm" class="localvar">mode</a> &amp;&amp; <a href="../h_aa/57565916.htm" class="libfunc">strchr</a>(<a href="../h_src/57852728.htm" class="localvar">mode</a>, <a href="../h_src/57852592.htm" class="localvar">x</a>[0]) == NULL) {
</pre>
<pre>

</pre>
</body>
</html>

