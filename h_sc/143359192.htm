<html>
<head>
<!-- This html document was created by Imagix 4D -->
<link href="../htm/symbol.css" rel="stylesheet" type="text/css">
<link href="../htm/symcolors.css" rel="stylesheet" type="text/css">
<link href="../htm/notebook.css" rel="stylesheet" type="text/css">
<base target="symbol">
</head>
<body>

<h2>loslib.c</h2>

<div class="notebook">
<ul>
<li><a href="../h_aa/143359192.htm" class="file" target="_self">Info</a></li>
<li><a href="../h_im/143359192.htm" class="file" target="_self">Global Interface</a></li>
<li><a href="../h_rx/143359192.htm" class="file" target="_self">File Inclusion</a></li>
<li><a href="../h_nm/143359192.htm" class="file" target="_self">Internals</a></li>
<li><a href="../h_uf/143359192.htm" class="file" target="_self">Use of Elements</a></li>
<li><a href="../h_df/143359192.htm" class="file" target="_self">Dependencies</a></li>
<li id="current"><a href="../h_src/143359192.htm" class="file" target="_self">Source Code</a></li>
</ul>
</div>
<div class="notebook">
<ul>
<li><a href="../h_src/143359192.htm" class="file" target="_self">Source Code</a></li>
<li id="current"><a href="../h_sc/143359192.htm" class="file" target="_self">Source Checks</a></li>
</ul>
</div>
<div class="nb_clear">
</div>
<h4>Source Checks  <a class="legend">(see key)</a></h4>
<table cellpadding=0 cellspacing=0 border=0>
<tr><td>total instances:</td><td class=mtrc>74</td></tr>
<tr><td>total checks involved:</td><td class=mtrc>7</td></tr>
<tr><td>total lines  involved:</td><td class=mtrc>77</td></tr>
<tr><th></th></tr>
</table>
<pre>
</pre>
<h5>Number of Built-In Operators</h5>
<pre>
   328 :    <a href="../h_src/57414060.htm" class="macro">luaL_addchar</a>(&amp;<a href="../h_src/143347428.htm" class="localvar">b</a>, *<a href="../h_src/143348448.htm" class="localvar">s</a>++);
</pre>
<pre>
</pre>
<h5>Unclear Subexpression</h5>
<pre>
   214 :    <a href="../h_src/57435140.htm" class="function">lua_pushinteger</a>(<a href="../h_src/143353888.htm" class="localvar">L</a>, (<a href="../h_src/57442076.htm" class="type">lua_Integer</a>)<a href="../h_src/143353616.htm" class="localvar">value</a> + <a href="../h_src/143353480.htm" class="localvar">delta</a>);
   309 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357900.htm" class="macro">l_gmtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   313 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357764.htm" class="macro">l_localtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   328 :    <a href="../h_src/57414060.htm" class="macro">luaL_addchar</a>(&amp;<a href="../h_src/143347428.htm" class="localvar">b</a>, *<a href="../h_src/143348448.htm" class="localvar">s</a>++);
</pre>
<pre>
</pre>
<h5>Conversion Issue</h5>
<pre>
   145 :    errno = 0;
   187 :    <a href="../h_src/57435208.htm" class="function">lua_pushnumber</a>(<a href="../h_src/143354228.htm" class="localvar">L</a>, ((<a href="../h_src/57442144.htm" class="type">lua_Number</a>)<a href="../h_aa/143354092.htm" class="libfunc">clock</a>())/(<a href="../h_src/57442144.htm" class="type">lua_Number</a>)CLOCKS_PER_SEC);
   305 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143348244.htm" class="localvar">t</a> = <a href="../h_src/57416168.htm" class="macro">luaL_opt</a>(<a href="../h_src/143348720.htm" class="localvar">L</a>, <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>, 2, <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL));
   309 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357900.htm" class="macro">l_gmtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   313 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357764.htm" class="macro">l_localtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   333 :    <a href="../h_src/143348448.htm" class="localvar">s</a> = <a href="../h_src/143350488.htm" class="function">checkoption</a>(<a href="../h_src/143348720.htm" class="localvar">L</a>, <a href="../h_src/143348448.htm" class="localvar">s</a>, <a href="../h_src/143348108.htm" class="localvar">se</a> - <a href="../h_src/143348448.htm" class="localvar">s</a>, <a href="../h_src/143347564.htm" class="localvar">cc</a> + 1);  <a  class="comments">/* copy specifier to 'cc' */</a>
   334 :    <a href="../h_src/143347292.htm" class="localvar">reslen</a> = <a href="../h_aa/143347020.htm" class="libfunc">strftime</a>(<a href="../h_src/143347156.htm" class="localvar">buff</a>, <a href="../h_src/143348992.htm" class="macro">SIZETIMEFMT</a>, <a href="../h_src/143347564.htm" class="localvar">cc</a>, <a href="../h_src/143347836.htm" class="localvar">stm</a>);
   347 :    <a href="../h_src/143346680.htm" class="localvar">t</a> = <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL);  <a  class="comments">/* get current time */</a>
   352 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_year = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;year&quot;, -1, 1900);
   353 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_mon = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;month&quot;, -1, 1);
   354 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_mday = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;day&quot;, -1, 0);
   355 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_hour = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;hour&quot;, 12, 0);
   356 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_min = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;min&quot;, 0, 0);
   357 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_sec = <a href="../h_src/143351576.htm" class="function">getfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;sec&quot;, 0, 0);
   358 :    <a href="../h_src/143346544.htm" class="localvar">ts</a>.tm_isdst = <a href="../h_src/143352120.htm" class="function">getboolfield</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, &quot;isdst&quot;);
   359 :    <a href="../h_src/143346680.htm" class="localvar">t</a> = <a href="../h_aa/143346408.htm" class="libfunc">mktime</a>(&amp;<a href="../h_src/143346544.htm" class="localvar">ts</a>);
   362 :    if (<a href="../h_src/143346680.htm" class="localvar">t</a> != (<a href="../h_src/143349536.htm" class="function">time_t</a>)(<a href="../h_src/143358444.htm" class="macro">l_timet</a>)<a href="../h_src/143346680.htm" class="localvar">t</a> || <a href="../h_src/143346680.htm" class="localvar">t</a> == (<a href="../h_src/143349536.htm" class="function">time_t</a>)(-1))
   362 :    if (<a href="../h_src/143346680.htm" class="localvar">t</a> != (<a href="../h_src/143349536.htm" class="function">time_t</a>)(<a href="../h_src/143358444.htm" class="macro">l_timet</a>)<a href="../h_src/143346680.htm" class="localvar">t</a> || <a href="../h_src/143346680.htm" class="localvar">t</a> == (<a href="../h_src/143349536.htm" class="function">time_t</a>)(-1))
   362 :    if (<a href="../h_src/143346680.htm" class="localvar">t</a> != (<a href="../h_src/143349536.htm" class="function">time_t</a>)(<a href="../h_src/143358444.htm" class="macro">l_timet</a>)<a href="../h_src/143346680.htm" class="localvar">t</a> || <a href="../h_src/143346680.htm" class="localvar">t</a> == (<a href="../h_src/143349536.htm" class="function">time_t</a>)(-1))
   365 :    <a href="../h_src/143358308.htm" class="macro">l_pushtime</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, <a href="../h_src/143346680.htm" class="localvar">t</a>);
   371 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143346068.htm" class="localvar">t1</a> = <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>(<a href="../h_src/143346204.htm" class="localvar">L</a>, 1);
   372 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143345932.htm" class="localvar">t2</a> = <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>(<a href="../h_src/143346204.htm" class="localvar">L</a>, 2);
   395 :    <a href="../h_src/143344572.htm" class="localvar">status</a> = (<a href="../h_src/57438268.htm" class="function">lua_toboolean</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>, 1) ? EXIT_SUCCESS : EXIT_FAILURE);
   405 :    static const <a href="../h_src/57420996.htm" class="type">luaL_Reg</a> <a href="../h_src/143344368.htm" class="variable">syslib</a>[] = {
   406 :    {&quot;clock&quot;,     <a href="../h_src/143354364.htm" class="function">os_clock</a>},
   407 :    {&quot;date&quot;,      <a href="../h_src/143348856.htm" class="function">os_date</a>},
   408 :    {&quot;difftime&quot;,  <a href="../h_src/143346340.htm" class="function">os_difftime</a>},
   409 :    {&quot;execute&quot;,   <a href="../h_src/143356948.htm" class="function">os_execute</a>},
   410 :    {&quot;exit&quot;,      <a href="../h_src/143344844.htm" class="function">os_exit</a>},
   411 :    {&quot;getenv&quot;,    <a href="../h_src/143354636.htm" class="function">os_getenv</a>},
   412 :    {&quot;remove&quot;,    <a href="../h_src/143356336.htm" class="function">os_remove</a>},
   413 :    {&quot;rename&quot;,    <a href="../h_src/143355860.htm" class="function">os_rename</a>},
   414 :    {&quot;setlocale&quot;, <a href="../h_src/143345728.htm" class="function">os_setlocale</a>},
   415 :    {&quot;time&quot;,      <a href="../h_src/143346952.htm" class="function">os_time</a>},
   416 :    {&quot;tmpname&quot;,   <a href="../h_src/143355248.htm" class="function">os_tmpname</a>},
</pre>
<pre>
</pre>
<h5>Needs Compound Statement</h5>
<pre>
   147 :    if (<a href="../h_src/143356676.htm" class="localvar">cmd</a> != NULL)
   148 :    return <a href="../h_src/57419024.htm" class="function">luaL_execresult</a>(<a href="../h_src/143356812.htm" class="localvar">L</a>, <a href="../h_src/143356540.htm" class="localvar">stat</a>);
   173 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143354840.htm" class="localvar">err</a>))
   174 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143355112.htm" class="localvar">L</a>, &quot;unable to generate a unique filename&quot;);
   220 :    if (<a href="../h_src/143352936.htm" class="localvar">value</a> &lt; 0)  <a  class="comments">/* undefined? */</a>
   221 :    return;  <a  class="comments">/* does not set field */</a>
   256 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143350760.htm" class="localvar">t</a> != <a href="../h_src/57444048.htm" class="macro">LUA_TNIL</a>))  <a  class="comments">/* some other value? */</a>
   257 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143351440.htm" class="localvar">L</a>, &quot;field '%s' is not an integer&quot;, <a href="../h_src/143351304.htm" class="localvar">key</a>);
   258 :    else if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143351168.htm" class="localvar">d</a> &lt; 0))  <a  class="comments">/* absent field; no default? */</a>
   259 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143351440.htm" class="localvar">L</a>, &quot;field '%s' missing in date table&quot;, <a href="../h_src/143351304.htm" class="localvar">key</a>);
   263 :    if (!(<a href="../h_src/143350624.htm" class="localvar">res</a> &gt;= 0 ? <a href="../h_src/143350624.htm" class="localvar">res</a> - <a href="../h_src/143351032.htm" class="localvar">delta</a> &lt;= INT_MAX : INT_MIN + <a href="../h_src/143351032.htm" class="localvar">delta</a> &lt;= <a href="../h_src/143350624.htm" class="localvar">res</a>))
   264 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143351440.htm" class="localvar">L</a>, &quot;field '%s' is out-of-bound&quot;, <a href="../h_src/143351304.htm" class="localvar">key</a>);
   277 :    if (*<a href="../h_src/143349808.htm" class="localvar">option</a> == '|')  <a  class="comments">/* next block? */</a>
   278 :    <a href="../h_src/143349672.htm" class="localvar">oplen</a>++;  <a  class="comments">/* will check options with next length (+1) */</a>
   312 :    else
   313 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357764.htm" class="macro">l_localtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   314 :    if (<a href="../h_src/143347836.htm" class="localvar">stm</a> == NULL)  <a  class="comments">/* invalid date? */</a>
   315 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143348720.htm" class="localvar">L</a>,
   316 :    &quot;date result cannot be represented in this installation&quot;);
   327 :    if (*<a href="../h_src/143348448.htm" class="localvar">s</a> != '%')  <a  class="comments">/* not a conversion specifier? */</a>
   328 :    <a href="../h_src/57414060.htm" class="macro">luaL_addchar</a>(&amp;<a href="../h_src/143347428.htm" class="localvar">b</a>, *<a href="../h_src/143348448.htm" class="localvar">s</a>++);
   346 :    if (<a href="../h_src/57427796.htm" class="macro">lua_isnoneornil</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>, 1))  <a  class="comments">/* called without args? */</a>
   347 :    <a href="../h_src/143346680.htm" class="localvar">t</a> = <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL);  <a  class="comments">/* get current time */</a>
   362 :    if (<a href="../h_src/143346680.htm" class="localvar">t</a> != (<a href="../h_src/143349536.htm" class="function">time_t</a>)(<a href="../h_src/143358444.htm" class="macro">l_timet</a>)<a href="../h_src/143346680.htm" class="localvar">t</a> || <a href="../h_src/143346680.htm" class="localvar">t</a> == (<a href="../h_src/143349536.htm" class="function">time_t</a>)(-1))
   363 :    return <a href="../h_src/57419296.htm" class="function">luaL_error</a>(<a href="../h_src/143346816.htm" class="localvar">L</a>,
   364 :    &quot;time result cannot be represented in this installation&quot;);
   394 :    if (<a href="../h_src/57428204.htm" class="macro">lua_isboolean</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>, 1))
   395 :    <a href="../h_src/143344572.htm" class="localvar">status</a> = (<a href="../h_src/57438268.htm" class="function">lua_toboolean</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>, 1) ? EXIT_SUCCESS : EXIT_FAILURE);
   396 :    else
   397 :    <a href="../h_src/143344572.htm" class="localvar">status</a> = (int)<a href="../h_src/57419908.htm" class="function">luaL_optinteger</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>, 1, EXIT_SUCCESS);
   398 :    if (<a href="../h_src/57438268.htm" class="function">lua_toboolean</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>, 2))
   399 :    <a href="../h_src/57439832.htm" class="function">lua_close</a>(<a href="../h_src/143344708.htm" class="localvar">L</a>);
   400 :    if (<a href="../h_src/143344708.htm" class="localvar">L</a>) <a href="../h_aa/143344436.htm" class="libfunc">exit</a>(<a href="../h_src/143344572.htm" class="localvar">status</a>);  <a  class="comments">/* 'if' to avoid warnings for unreachable 'return' */</a>
</pre>
<pre>
</pre>
<h5>Return Ignored</h5>
<pre>
   175 :    <a href="../h_src/57435004.htm" class="function">lua_pushstring</a>(<a href="../h_src/143355112.htm" class="localvar">L</a>, <a href="../h_src/143354976.htm" class="localvar">buff</a>);
   181 :    <a href="../h_src/57435004.htm" class="function">lua_pushstring</a>(<a href="../h_src/143354500.htm" class="localvar">L</a>, <a href="../h_aa/57561428.htm" class="libfunc">getenv</a>(<a href="../h_src/57416984.htm" class="macro">luaL_checkstring</a>(<a href="../h_src/143354500.htm" class="localvar">L</a>, 1)));  <a  class="comments">/* if NULL push nil */</a>
   285 :    <a href="../h_src/57420384.htm" class="function">luaL_argerror</a>(<a href="../h_src/143350352.htm" class="localvar">L</a>, 1,
   286 :    <a href="../h_src/57434732.htm" class="function">lua_pushfstring</a>(<a href="../h_src/143350352.htm" class="localvar">L</a>, &quot;invalid conversion specifier '%%%s'&quot;, <a href="../h_src/143350216.htm" class="localvar">conv</a>));
   387 :    <a href="../h_src/57435004.htm" class="function">lua_pushstring</a>(<a href="../h_src/143345592.htm" class="localvar">L</a>, <a href="../h_aa/143344912.htm" class="libfunc">setlocale</a>(<a href="../h_src/143345456.htm" class="localvar">cat</a>[<a href="../h_src/143345048.htm" class="localvar">op</a>], <a href="../h_src/143345184.htm" class="localvar">l</a>));
</pre>
<pre>
</pre>
<h5>Missing/Mismatched Function Declarator</h5>
<pre>
   146 :    <a href="../h_src/143356540.htm" class="localvar">stat</a> = <a href="../h_src/143357084.htm" class="macro">l_system</a>(<a href="../h_src/143356676.htm" class="localvar">cmd</a>);
   158 :    return <a href="../h_src/57419092.htm" class="function">luaL_fileresult</a>(<a href="../h_src/143356200.htm" class="localvar">L</a>, <a href="../h_aa/143355928.htm" class="libfunc">remove</a>(<a href="../h_src/143356064.htm" class="localvar">filename</a>) == 0, <a href="../h_src/143356064.htm" class="localvar">filename</a>);
   165 :    return <a href="../h_src/57419092.htm" class="function">luaL_fileresult</a>(<a href="../h_src/143355724.htm" class="localvar">L</a>, <a href="../h_aa/143355316.htm" class="libfunc">rename</a>(<a href="../h_src/143355588.htm" class="localvar">fromname</a>, <a href="../h_src/143355452.htm" class="localvar">toname</a>) == 0, NULL);
   172 :    <a href="../h_src/143357356.htm" class="macro">lua_tmpnam</a>(<a href="../h_src/143354976.htm" class="localvar">buff</a>, <a href="../h_src/143354840.htm" class="localvar">err</a>);
   173 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143354840.htm" class="localvar">err</a>))
   181 :    <a href="../h_src/57435004.htm" class="function">lua_pushstring</a>(<a href="../h_src/143354500.htm" class="localvar">L</a>, <a href="../h_aa/57561428.htm" class="libfunc">getenv</a>(<a href="../h_src/57416984.htm" class="macro">luaL_checkstring</a>(<a href="../h_src/143354500.htm" class="localvar">L</a>, 1)));  <a  class="comments">/* if NULL push nil */</a>
   187 :    <a href="../h_src/57435208.htm" class="function">lua_pushnumber</a>(<a href="../h_src/143354228.htm" class="localvar">L</a>, ((<a href="../h_src/57442144.htm" class="type">lua_Number</a>)<a href="../h_aa/143354092.htm" class="libfunc">clock</a>())/(<a href="../h_src/57442144.htm" class="type">lua_Number</a>)CLOCKS_PER_SEC);
   256 :    if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143350760.htm" class="localvar">t</a> != <a href="../h_src/57444048.htm" class="macro">LUA_TNIL</a>))  <a  class="comments">/* some other value? */</a>
   258 :    else if (<a href="../h_src/57551568.htm" class="macro">l_unlikely</a>(<a href="../h_src/143351168.htm" class="localvar">d</a> &lt; 0))  <a  class="comments">/* absent field; no default? */</a>
   279 :    else if (<a href="../h_aa/58131444.htm" class="libfunc">memcmp</a>(<a href="../h_src/143350216.htm" class="localvar">conv</a>, <a href="../h_src/143349808.htm" class="localvar">option</a>, <a href="../h_src/143349672.htm" class="localvar">oplen</a>) == 0) {  <a  class="comments">/* match? */</a>
   280 :    <a href="../h_aa/57902680.htm" class="libfunc">memcpy</a>(<a href="../h_src/143349944.htm" class="localvar">buff</a>, <a href="../h_src/143350216.htm" class="localvar">conv</a>, <a href="../h_src/143349672.htm" class="localvar">oplen</a>);  <a  class="comments">/* copy valid option to buffer */</a>
   305 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143348244.htm" class="localvar">t</a> = <a href="../h_src/57416168.htm" class="macro">luaL_opt</a>(<a href="../h_src/143348720.htm" class="localvar">L</a>, <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>, 2, <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL));
   305 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143348244.htm" class="localvar">t</a> = <a href="../h_src/57416168.htm" class="macro">luaL_opt</a>(<a href="../h_src/143348720.htm" class="localvar">L</a>, <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>, 2, <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL));
   309 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357900.htm" class="macro">l_gmtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   313 :    <a href="../h_src/143347836.htm" class="localvar">stm</a> = <a href="../h_src/143357764.htm" class="macro">l_localtime</a>(&amp;<a href="../h_src/143348244.htm" class="localvar">t</a>, &amp;<a href="../h_src/143347972.htm" class="localvar">tmr</a>);
   317 :    if (<a href="../h_aa/57564488.htm" class="libfunc">strcmp</a>(<a href="../h_src/143348448.htm" class="localvar">s</a>, &quot;*t&quot;) == 0) {
   334 :    <a href="../h_src/143347292.htm" class="localvar">reslen</a> = <a href="../h_aa/143347020.htm" class="libfunc">strftime</a>(<a href="../h_src/143347156.htm" class="localvar">buff</a>, <a href="../h_src/143348992.htm" class="macro">SIZETIMEFMT</a>, <a href="../h_src/143347564.htm" class="localvar">cc</a>, <a href="../h_src/143347836.htm" class="localvar">stm</a>);
   347 :    <a href="../h_src/143346680.htm" class="localvar">t</a> = <a href="../h_aa/57983504.htm" class="libfunc">time</a>(NULL);  <a  class="comments">/* get current time */</a>
   359 :    <a href="../h_src/143346680.htm" class="localvar">t</a> = <a href="../h_aa/143346408.htm" class="libfunc">mktime</a>(&amp;<a href="../h_src/143346544.htm" class="localvar">ts</a>);
   371 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143346068.htm" class="localvar">t1</a> = <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>(<a href="../h_src/143346204.htm" class="localvar">L</a>, 1);
   372 :    <a href="../h_src/143349536.htm" class="function">time_t</a> <a href="../h_src/143345932.htm" class="localvar">t2</a> = <a href="../h_aa/143348312.htm" class="libfunc">l_checktime</a>(<a href="../h_src/143346204.htm" class="localvar">L</a>, 2);
   373 :    <a href="../h_src/57435208.htm" class="function">lua_pushnumber</a>(<a href="../h_src/143346204.htm" class="localvar">L</a>, (<a href="../h_src/57442144.htm" class="type">lua_Number</a>)<a href="../h_aa/143345796.htm" class="libfunc">difftime</a>(<a href="../h_src/143346068.htm" class="localvar">t1</a>, <a href="../h_src/143345932.htm" class="localvar">t2</a>));
   387 :    <a href="../h_src/57435004.htm" class="function">lua_pushstring</a>(<a href="../h_src/143345592.htm" class="localvar">L</a>, <a href="../h_aa/143344912.htm" class="libfunc">setlocale</a>(<a href="../h_src/143345456.htm" class="localvar">cat</a>[<a href="../h_src/143345048.htm" class="localvar">op</a>], <a href="../h_src/143345184.htm" class="localvar">l</a>));
   400 :    if (<a href="../h_src/143344708.htm" class="localvar">L</a>) <a href="../h_aa/143344436.htm" class="libfunc">exit</a>(<a href="../h_src/143344572.htm" class="localvar">status</a>);  <a  class="comments">/* 'if' to avoid warnings for unreachable 'return' */</a>
</pre>
<pre>
</pre>
<h5>Missing Return Type</h5>
<pre>
   291 :    static <a href="../h_src/143349536.htm" class="function">time_t</a> l_checktime (<a href="../h_src/57444252.htm" class="type">lua_State</a> *<a href="../h_src/143349400.htm" class="localvar">L</a>, int <a href="../h_src/143349264.htm" class="localvar">arg</a>) {
</pre>
<pre>

</pre>
</body>
</html>

